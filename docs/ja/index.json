
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    [{"authors":[],"categories":[],"content":"Raspberry Pi 2Bの代用として買ったNucBox3を数週間運用してて、ある程度いい感じに動いてくれてると思ってたけど急に手がかかるようになった。マシンの上で動かしていたのはn8nでの定期タスクで、それ自体は負荷がかからないけどそれをわざわざsingle-node Kubernetesの上で動かしていたのでそれなりにディスクアクセスはあった。それでもまあ大したものじゃなかったけど、急にfilesystemがread-onlyに。\n~30 IO/sからの突然のread-only こういうのが嫌だったので、SDカード運用のRaspberry Pi 2Bから離れたのに結局は同じ状況に。再起動してもすぐにread-onlyになってしまって、なぜかSSHも鍵認証で弾かれる。ただ、node-exporterだけはしっかり動いていて状況だけは詳細にわかる謎。\nとりあえず、ファイルシステムの復旧か再インストールかを現地でして様子見するしかないけど、もしファンレスで温度が高めであることが原因だったらこのマシンという選択自体が間違いということになるので悲しいですね。\n温度はむしろ最近落ち着いていた 一応、昼間は冷房のかかっている部屋に置いてあるのでそんなに想定温度とは違わないはずなんだけど。\n","date":1690287370,"expirydate":-62135596800,"kind":"page","lang":"ja","lastmod":1690287370,"objectID":"66df12e56acd2d2a909cdea4adb2ee97","permalink":"https://nobuto-m.github.io/ja/post/2023/1690287370/","publishdate":"2023-07-25T21:16:10+09:00","relpermalink":"/ja/post/2023/1690287370/","section":"post","summary":"Raspberry Pi 2Bの代用として買ったNucBox3を数週間運用してて、ある程度いい感じに動いてくれてると思ってたけど急に手がかかるようになった。マシンの上で動かしていたのはn8nでの定期タスクで、それ自体は負荷がかからないけどそれをわざわざsingle-node Kubernetesの上で動かしていたのでそれなりにディスクアクセスはあった。それでもまあ大したものじゃなかったけど、急にfilesystemがread-onlyに。","tags":[],"title":"NucBox3での運用一筋縄ではいかないかも","type":"post"},{"authors":[],"categories":[],"content":"会社に何か話が来ていたことは知っていて、ただ本当に映るのか観るまでは知らなかったので無事に映っててよかった。\nUbuntuのロゴも美術協力の一覧の中に 『トリリオンゲーム』のドラマ自体はいくつかの会社が技術監修やってますっていう記事を出していて、うちの会社（もちろん私は会社を代表するものではないですが）としては特にこれといったことはしてないと思います。\nTBS金曜ドラマ『トリリオンゲーム』のハッキングシーン舞台裏 - 株式会社リチェルカセキュリティ 「セキュリティコンテストは本当にあるの？」「具体的な技術的設定は？」ドラマ『トリリオンゲーム』第1話 技術監修の裏側を解説します！ 外野の感想としては、コマンドラインで操作するところはカッコよく作り込まれているなと。あと芸が細かいなと思ったのは、主人公たちの学生時代にノートPCを開いた場面では、UnityのLauncherが映っていたところでしょうか。「その時代のUbuntuは今の画面じゃなくてUnityだからちゃんとUnity使わなきゃ」って言った人がいたのかしら。実際のシーンがどんな感じだったかは、TVerとかNetflixとかで確認していただければと。\n","date":1689418398,"expirydate":-62135596800,"kind":"page","lang":"ja","lastmod":1689418398,"objectID":"082eec3cefe61eb33483e56eda4fc9cf","permalink":"https://nobuto-m.github.io/ja/post/2023/1689418398/","publishdate":"2023-07-15T19:53:18+09:00","relpermalink":"/ja/post/2023/1689418398/","section":"post","summary":"会社に何か話が来ていたことは知っていて、ただ本当に映るのか観るまでは知らなかったので無事に映っててよかった。","tags":[],"title":"ドラマ『トリリオンゲーム』にUbuntuがちらっと映った","type":"post"},{"authors":[],"categories":[],"content":"昔はSleipnirのRSSリーダーとかGoogle Readerとかを使っていて、Feedlyもちょっとは使っていた。けれどもいつのまにかTwitterで話題になったやつとか、Google Discoverで出てきたニュースをちょろっと読むだけになってしまった。もうちょっと能動的にキーワードで引っ掛けたりして自分にとって重要そうなニュースを早めに読みたいという気持ちはあり、n8nのself-hostingコミュニティ版を使ってチャットに流すことにした。\nピタゴラスイッチっぽさ 最初はすんなりいくかとおもって、特にメモを書くこともないなぁと思ってたけど、しっかりあったので書いておく。\nまず、RSSフィードを扱ってくれるRSS Readノードは、RSSのURLを1個しか受け取ってくれない。なので複数サイトのフィードを一気に扱いたいときは、さっそく他のノードとの連携が必要になってくる。幸いこのトピックそのものの公式ドキュメントがあるので、Split In Batchesノードでループを作ればいいことがわかるのだが、このループを作成するときにフィードのリストを渡すための「リストを定義する」みたいなノードが存在しない。\n仕方がないので、先ほどの公式ドキュメントにあるように、別途任意のJavascriptコードを書けるCodeノードを用意して、下記のようにして次に実行されるノードにリストが渡るようにする。\nreturn [ {json: {url: \u0026#39;https://news1.example.com/feed\u0026#39;}}, {json: {url: \u0026#39;https://news2.example.com/feed\u0026#39;}}, {json: {url: \u0026#39;https://news3.example.com/feed\u0026#39;}}, {json: {url: \u0026#39;https://news4.example.com/feed\u0026#39;}}, {json: {url: \u0026#39;https://news5.example.com/feed\u0026#39;}}, ]; ここまでで、ワークフローが実行されたときに全部のサイトを巡回して、RSS内のアイテムを取ってきてくれるのだが、ここから「前回実行時からの新着アイテム」に絞り込むことがRSSノードではできない。このままWebhookへのPOSTにつなげてしまうと、ワークフローが実行されるたびに古い記事も含めて全部のアイテムがチャットに投げられてしまうので悲劇。そこでまずはワークフローの実行間隔を、cronに相当するSchedule triggerノードで設定する。ここでは例として157分間隔に設定。\n実行間隔の設定 続いて、Split In Batchesノードの後ろにFilterノードをつなげて、次のようなフィルターを設定する。\n現在時刻から157分前を指定 ここで、RSS内のアイテムに紐付いている日時{{$json.isoDate}}と、現在時刻から157分前の日時{{$now.minus({minutes:157}).toISO()}}を比べて、記事が前回の実行時より新しいかどうかを無理やり判定する。\nこれ以外にいい方法がないか調べたけども、公式のノードだけではこれが限界っぽい。157分をハードコードすると、後々間隔を変更したときにこの部分を変更し忘れそうなので変数を使って\n$(\u0026#39;Schedule Trigger\u0026#39;).params[\u0026#34;rule\u0026#34;][\u0026#34;interval\u0026#34;][0][\u0026#34;minutesInterval\u0026#34;]\nに変更しておくとよさそう。後は$nowを使うとワークフロー全体が開始された日時ではなくて、コード自体が呼び出された日時が入りそうなので、フィードの取得に時間がかかったときなどは空白の時間が生まれて新着判定が上手くいかなそうなので、ここも変数を使ってワークフローが開始された日時そのものを使うために\n$(\u0026#39;Schedule Trigger\u0026#39;).item.json.timestamp\nとしておく。\n最終的には新着判定のために使う基準日時は\n{{ DateTime.fromISO($(\u0026#34;Schedule Trigger\u0026#34;).item.json.timestamp) .minus({ minutes: $(\u0026#34;Schedule Trigger\u0026#34;).params[\u0026#34;rule\u0026#34;][\u0026#34;interval\u0026#34;][0][ \u0026#34;minutesInterval\u0026#34; ], }) .toISO(); }} となる、けど読みにくいですね。\nこのあたりは、何分間隔という指定ではなくて、毎時決まった時間に、とした方がすっきりすると思う。だけど、毎時決まった時間にフィードを取りに行くのはなんかしっくりこないんですよね。\nここまでで新着判定はできているはずなので、後はWebhookに向かって情報を投げるだけ。HTTP Requestノードを使って、サービスに合わせて整形した上で投げる。例えばMattermostの場合は、textにリンクを入れてあげれば自動でプレビューされるので十分。\nリンクやタイトルを整形して投げる 新着アイテムを全部投稿するのではなくて、特定のキーワードに合致するものだけに絞りたければ、POSTする前にもう一つFilterノードを追加してRegexが書ける。\nタイトルか概要がキーワードを含むものだけに絞れる 「RSSの新着アイテムをキーワードで絞ってからPOSTしておいて」っていう簡単ぽく聞こえる作業が、ここまでの長文になってしまった。\n","date":1688885165,"expirydate":-62135596800,"kind":"page","lang":"ja","lastmod":1688885165,"objectID":"05e589b1391e4f6c404b29cd528ecb07","permalink":"https://nobuto-m.github.io/ja/post/2023/1688885165/","publishdate":"2023-07-09T15:46:05+09:00","relpermalink":"/ja/post/2023/1688885165/","section":"post","summary":"昔はSleipnirのRSSリーダーとかGoogle Readerとかを使っていて、Feedlyもちょっとは使っていた。けれどもいつのまにかTwitterで話題になったやつとか、Google Discoverで出てきたニュースをちょろっと読むだけになってしまった。もうちょっと能動的にキーワードで引っ掛けたりして自分にとって重要そうなニュースを早めに読みたいという気持ちはあり、n8nのself-hostingコミュニティ版を使ってチャットに流すことにした。","tags":[],"title":"n8nでRSSの新着アイテムをwebhookに投げる","type":"post"},{"authors":[],"categories":[],"content":"Ubuntu Serverを自動インストールする方法については、Ubuntu Serverガイドにすでにちゃんとした記事がある。\nAutomated Server installation Automated Server install quickstart Automated Server installer config file reference あとは柴田さんのgihyo.jp記事もあるので日本語でも解説されている。\nUbuntu Serverガイドにしたがって、自分用に最小のautoinstallファイルを作ってやってみた。\n#cloud-config autoinstall: version: 1 identity: hostname: ubuntu-server username: ubuntu # password=ubuntu password: \u0026#34;$6$exDY1mhS4KUYCE/2$zmn9ToZwTKLhCw.b4/b.ZRTIZM30JZ4QrOQ2aOXJ8yk96xpcCof0kxKwuX1kqLG/ygbJ1f8wxED22bTL4F46P0\u0026#34; ssh: install-server: yes # https://launchpad.net/bugs/1974483 allow-pw: no apt: geoip: false kernel: flavor: generic # or hwe ドキュメントにあるように、kvmコマンドと下記カーネルコマンドラインパラメーターを使うと完璧に動作する。\n-append \u0026#39;autoinstall ds=nocloud-net;s=http://_gateway:3003/\u0026#39; けれども、カスタマイズしてない普通の22.04 LTSのISOだとうまくいかなくて、最初の言語選択の画面で止まってしまう。\n結局はすごく小さなところが問題で、セミコロンをエスケープしておかないと、autoinstallファイルを取得するためのURLが無視されて渡らない。これだけの話で1時間以上悩んだ。ドキュメントへのフィードバックはしたので、将来的に誰かの役に立てればと。\nGRUBの時はセミコロンのエスケープが必須 ","date":1688282992,"expirydate":-62135596800,"kind":"page","lang":"ja","lastmod":1688282992,"objectID":"d6ce7ea91d3f16a2fc3e21bbc38d98dc","permalink":"https://nobuto-m.github.io/ja/post/2023/ubuntu-server-autoinstall-with-a-physical-machine/","publishdate":"2023-07-02T16:29:52+09:00","relpermalink":"/ja/post/2023/ubuntu-server-autoinstall-with-a-physical-machine/","section":"post","summary":"Ubuntu Serverを自動インストールする方法については、Ubuntu Serverガイドにすでにちゃんとした記事がある。","tags":[],"title":"物理マシンでUbuntu Serverのautoinstall","type":"post"},{"authors":[],"categories":[],"content":"一個新規記事ファイルを作って、Hugoのプレビューを開こうとしたらエラーになる。\n$ hugo go: github.com/wowchemy/wowchemy-hugo-themes/modules/wowchemy-plugin-netlify@v1.0.0: invalid version: git ls-remote -q origin in /tmp/hugo_cache_nobuto/modules/filecache/modules/pkg/mod/cache/vcs/0c88995f39c54fe356dd74460b6359b56b0fb376c52289c9656c86270b2c006d: exit status 128: fatal: unable to find remote helper for \u0026#39;https\u0026#39; go: github.com/wowchemy/wowchemy-hugo-themes/modules/wowchemy-plugin-netlify-cms@v1.0.0: invalid version: git ls-remote -q origin in /tmp/hugo_cache_nobuto/modules/filecache/modules/pkg/mod/cache/vcs/0c88995f39c54fe356dd74460b6359b56b0fb376c52289c9656c86270b2c006d: exit status 128: fatal: unable to find remote helper for \u0026#39;https\u0026#39; go: github.com/wowchemy/wowchemy-hugo-themes/modules/wowchemy-plugin-reveal@v1.0.0: invalid version: git ls-remote -q origin in /tmp/hugo_cache_nobuto/modules/filecache/modules/pkg/mod/cache/vcs/0c88995f39c54fe356dd74460b6359b56b0fb376c52289c9656c86270b2c006d: exit status 128: fatal: unable to find remote helper for \u0026#39;https\u0026#39; go: github.com/wowchemy/wowchemy-hugo-themes/modules/wowchemy/v5@v5.7.1-0.20230420205746-951c7b6f709d: invalid version: git ls-remote -q origin in /tmp/hugo_cache_nobuto/modules/filecache/modules/pkg/mod/cache/vcs/0c88995f39c54fe356dd74460b6359b56b0fb376c52289c9656c86270b2c006d: exit status 128: fatal: unable to find remote helper for \u0026#39;https\u0026#39; hugo: collected modules in 897 ms Total in 906 ms Error: failed to load modules: failed to download modules: failed to execute \u0026#39;go [mod download]\u0026#39;: failed to execute binary \u0026#34;go\u0026#34; with args [mod download]: go: github.com/wowchemy/wowchemy-hugo-themes/modules/wowchemy-plugin-netlify@v1.0.0: invalid version: git ls-remote -q origin in /tmp/hugo_cache_nobuto/modules/filecache/modules/pkg/mod/cache/vcs/0c88995f39c54fe356dd74460b6359b56b0fb376c52289c9656c86270b2c006d: exit status 128: fatal: unable to find remote helper for \u0026#39;https\u0026#39; go: github.com/wowchemy/wowchemy-hugo-themes/modules/wowchemy-plugin-netlify-cms@v1.0.0: invalid version: git ls-remote -q origin in /tmp/hugo_cache_nobuto/modules/filecache/modules/pkg/mod/cache/vcs/0c88995f39c54fe356dd74460b6359b56b0fb376c52289c9656c86270b2c006d: exit status 128: fatal: unable to find remote helper for \u0026#39;https\u0026#39; go: github.com/wowchemy/wowchemy-hugo-themes/modules/wowchemy-plugin-reveal@v1.0.0: invalid version: git ls-remote -q origin in /tmp/hugo_cache_nobuto/modules/filecache/modules/pkg/mod/cache/vcs/0c88995f39c54fe356dd74460b6359b56b0fb376c52289c9656c86270b2c006d: exit status 128: fatal: unable to find remote helper for \u0026#39;https\u0026#39; go: github.com/wowchemy/wowchemy-hugo-themes/modules/wowchemy/v5@v5.7.1-0.20230420205746-951c7b6f709d: invalid version: git ls-remote -q origin in /tmp/hugo_cache_nobuto/modules/filecache/modules/pkg/mod/cache/vcs/0c88995f39c54fe356dd74460b6359b56b0fb376c52289c9656c86270b2c006d: exit status 128: fatal: unable to find remote helper for \u0026#39;https\u0026#39; *errors.errorString snap版特有の問題っぽかったので、一応Hugoプロジェクトにバグ報告。\nhttps://github.com/gohugoio/hugo/issues/11195\nなぜsnap版なのにHugoプロジェクトかというと、snapcraft.yamlはHugoプロジェクト側でメンテされていて、これはこれですごくありがたい。\n現状の回避策は、こないだまで動いていたrevisionを指定してインストールする形。\n$ sudo snap refresh --channel extended/stable --revision 16307 hugo パッと見はなんで名前解決がブロックされるのかよくわからず。/snap/hugo/{16307,16457}を比べてもバイナリ以外大きな差分はないし、リビジョンごとに生成されるAppArmorのプロファイルも特に差分は見えない。\n追記: AppArmor上は新しいリビジョンでだけ2つ追加でブロックされたログが出るので名前解決かと思ったけど、名前解決まではできてるみたい。\n[pid 95517] 15:50:23.307119 openat(AT_FDCWD, \u0026#34;/snap/core20/current/lib/x86_64-linux-gnu/libresolv.so.2\u0026#34;, O_RDONLY|O_CLOEXEC) = -1 EACCES (Permission denied) [pid 95517] 15:50:23.310260 openat(AT_FDCWD, \u0026#34;/snap/core20/current/lib/x86_64-linux-gnu/libnss_dns.so.2\u0026#34;, O_RDONLY|O_CLOEXEC) = -1 EACCES (Permission denied) [pid 95517] 15:50:23.311317 connect(3, {sa_family=AF_INET, sin_port=htons(53), sin_addr=inet_addr(\u0026#34;127.0.0.53\u0026#34;)}, 16) = 0 [pid 95517] 15:50:23.313023 connect(3, {sa_family=AF_INET, sin_port=htons(443), sin_addr=inet_addr(\u0026#34;20.27.177.113\u0026#34;)}, 16) = -1 EINPROGRESS (Operation now in progress) 追記2: 結局はAppArmorではなくて、Hugo本体のセキュリティ機構だった。snapのビルド時にsedを走らせてsnap用の設定を入れてるけど、本体側で加えた変更がsnapcraft.yamlには反映されていなかった。さらに進めて最終的にはsedを使わなくなって一件落着。素晴らしい。\n","date":1688220202,"expirydate":-62135596800,"kind":"page","lang":"ja","lastmod":1688220202,"objectID":"0d85a1201f4127b06b5d149844cc00b9","permalink":"https://nobuto-m.github.io/ja/post/2023/1688220202/","publishdate":"2023-07-01T23:03:22+09:00","relpermalink":"/ja/post/2023/1688220202/","section":"post","summary":"一個新規記事ファイルを作って、Hugoのプレビューを開こうとしたらエラーになる。","tags":[],"title":"Hugo snapが fatal: unable to find remote helper for 'https' のエラーを出すようになった","type":"post"},{"authors":[],"categories":[],"content":"NucBox3はファンレスで安いところが良さそうだと思って、Raspberry Piを置き換える用途でしばらく前に買ってあった。とにかく値段が安い（今日時点で実売12,383円）。それとは別に流行りのIntel N100と2.5G NICが搭載されてるもっと高めのものを家庭用NASを置き換える用途で買いたいなぁと思ってて、予行演習のためにまずはIntel Celeron J4125と1G NICのNucBox3にTrueNAS SCALEをインストールしてみた。\nまず、NucBox3は最大限にコスパ重視って感じ。噂に聞く、全くuniqueではないUUID 03000200-0400-0500-0006-000700080009は健在。\nubuntu description: Desktop Computer product: NucBox3 vendor: GMKtec version: Default string serial: Default string width: 64 bits capabilities: smbios-3.2.0 dmi-3.2.0 smp vsyscall32 configuration: boot=normal chassis=desktop family=Default string uuid=03000200-0400-0500-0006-000700080009 DDR4の8GBメモリもvendor ABCDのproduct 123456789012345678、シリアル番号は1234。\n*-memory description: System Memory physical id: 23 slot: System board or motherboard size: 8GiB *-bank:0 description: DIMM DDR4 Synchronous 2400 MHz (0.4 ns) product: 123456789012345678 vendor: ABCD physical id: 0 serial: 1234 slot: A1_DIMM0 size: 8GiB width: 64 bits clock: 2400MHz (0.4ns) 全部こんな感じなんでしょと思いきや、M.2 SATAの128GB SSDは製品名は入ってなかったけどシリアル番号っぽいものは入ってる。ちなみに簡易ベンチマークはこんな感じ。\nSSDはそれなり。可もなく不可もなく。 lstopoの出力 さくっと情報を確認したので、こっからはTrueNAS SCALEのインストールテスト。SCALEの方はDebianベースなのがいいなと思って選んだんですが、インストーラーもアプライアンスとしてカスタマイズされているので特に迷うところはなし。\nShellアクセスもあるけども、アプライアンスとして使われるのを意図しているのでaptやdpkgコマンドはPermission deniedが返る。どんな方法で制限してるんだろうと思ったけど、executableフラグを落としてあるだけだった。\nadmin@truenas[~]$ find /usr/bin ! -executable /usr/bin/docker-compose /usr/bin/dpkg /usr/bin/apt-get /usr/bin/apt-extracttemplates /usr/bin/apt-mark /usr/bin/apt-sortpkgs /usr/bin/apt-key /usr/bin/apt /usr/bin/apt-cache /usr/bin/apt-ftparchive /usr/bin/apt-config /usr/bin/apt-cdrom まったくもって推奨されてないけど、ちょっとiperfでも実行してみるかと思って一時的にaptを使えるようにしたけど、iperf3はデフォルトで入っているというオチでした。TrueNAS SCALEのインストールしたバージョン“Bluefin” 22.12はDebian 11 bullseyeベースなんだけど、アプライアンスなので結構手が入ってる。opensslのバージョンとかも。\nadmin@truenas[~]$ apt policy openssl openssl: Installed: 1.1.1t-001+deb11u4 Candidate: 1.1.1n-0+deb11u4 Version table: *** 1.1.1t-001+deb11u4 100 100 /var/lib/dpkg/status 1.1.1n-0+deb11u4 1000 500 http://apt.tn.ixsystems.com/apt-direct/bluefin/22.12.3/debian-security bullseye-security/main amd64 Packages 1.1.1n-0+deb11u3 900 900 http://apt.tn.ixsystems.com/apt-direct/bluefin/22.12.3/debian bullseye/main amd64 Packages NUCの形状からしてNASとして使う時のデータ置き場はUSB接続の外部HDDになる予定で、USB接続は推奨はされていないもののZFS用のデバイスとしてちゃんと使える。\nUSBストレージはnot recommendedでwarning扱い で、ここまでいろいろ見てきて、TrueNAS SCALEはうちの家庭用NASとしてピッタリじゃね、と。最初はDebianベースだからっていう理由で触り始めたけど、NASとしてこれこそが求めていたものでは。\nただ、TrueNAS SCALEのアプリストアを使う時に、SCALE自体がインストールされているドライブとは別のドライブを必要とする。ので、SCALE自体を内蔵SSDに入れるとして、アプリ（Kubernetes上で動く)が外付けHDDで動作するのもなんだかなと。一般にNASにアプリストアってあるあるだけど、んーでも結局そんなに使うことになるのかしら。将来のために、デフォルトで全領域を使うboot-poolを何とかサイズ指定したり後から縮小したりできるかを調べることからかな、と。\n$ lsblk -f NAME FSTYPE FSVER LABEL UUID FSAVAIL FSUSE% MOUNTPOINT sda ├─sda1 ├─sda2 vfat FAT32 EFI 2D4A-EDB1 ├─sda3 zfs_member 5000 boot-pool 572534033895956289 └─sda4 └─sda4 swap 1 9a1c0394-e549-4ef5-a15b-dc69f9a39e41 [SWAP] sdb ├─sdb1 └─sdb2 zfs_member 5000 external 9260921456295045295 Intel Celeron J4125と1G NICでテストしててさくさく動いてしまうので、N100と2.5Gとか要らないような気がしてくる。現状で十分というかアプリ、コンテナ、VMをそんなに動かすのかなと。ちょっと悩んだ後に、安いのは正義ということでNucBox3をまずはもう一個買いました。ので、これでしばらく運用してみて本当に必要だったらスペックを考え直すことにする。\n","date":1687011989,"expirydate":-62135596800,"kind":"page","lang":"ja","lastmod":1687011989,"objectID":"2baa9a818dfd780a136ee29d4561bfa1","permalink":"https://nobuto-m.github.io/ja/post/2023/1687011989/","publishdate":"2023-06-17T23:26:29+09:00","relpermalink":"/ja/post/2023/1687011989/","section":"post","summary":"NucBox3はファンレスで安いところが良さそうだと思って、Raspberry Piを置き換える用途でしばらく前に買ってあった。とにかく値段が安い（今日時点で実売12,383円）。それとは別に流行りのIntel N100と2.","tags":[],"title":"NucBox3でTrueNAS SCALEを試してみた","type":"post"},{"authors":[],"categories":[],"content":"手術といっても滞在時間は1時間もいかないぐらい。ずっと前（たぶん高校生ぐらい）から耳の上にホクロが変化してBB弾がくっついたぐらいの大きさの出っ張りがあって、今までは髪切ったときに丸見えになるぐらいで生活に支障はなかった。ただ、こないだから眼鏡をかけるようになったら眼鏡のツルと干渉するので思い切って取ってみるか、と。\n診療明細書上は「皮膚、皮下腫瘍摘出術（露出部）（直径2cm未満）」という扱いで健康保険適用対象、当日の支払額は合計で8,420円。\n病院によっては当日に取ってくれるところもあるみたいだけど、一番近そうなところの院長はGoogleマップのレビュー上でずーっと患者とバトルしてて不安だったので、妻が行ったことのある皮膚科に行った。そこもそこで保険適用外のいろんな注射がメニューにあるところで不安だったけど、結果的には説明もしっかりしてくれてよかった。\n最初の日は写真を撮って説明するだけですぐ終わり、手術当日までに周りの髪の毛をジョリジョリしてきてください、次の日に消毒のために来てもらいます、その後は軟膏塗ってテープ自分で貼ってもらって1週間後に抜糸です、と。なるほど、手術後に貼るテープみたいなのを買っとかなきゃと物色して、2種類の太さと一応防水のも買ってみた。\n初めてなのでいろいろ買ってみた で、当日は麻酔注射を打たれて、その注射自体がちょっと痛いぐらいで手術中の痛みは無し、縫ってる時の糸の振動が伝わるぐらい。結果5針縫ったみたい。次の日消毒に行った時に、どんなテープ貼られるのかな、買ったテープはちゃんと合ってるのかなと思いながら診察受けてて、先生も耳の周りの曲線で貼るの苦労してるなと思って帰って来たら絆創膏が貼ってあった。はい、もったいないので買ったテープは積極的に使っていこうと思います。\n","date":1686462501,"expirydate":-62135596800,"kind":"page","lang":"ja","lastmod":1686462501,"objectID":"6364d23dc8b459802bfb90c38b9f7391","permalink":"https://nobuto-m.github.io/ja/post/2023/1686462501/","publishdate":"2023-06-11T14:48:21+09:00","relpermalink":"/ja/post/2023/1686462501/","section":"post","summary":"手術といっても滞在時間は1時間もいかないぐらい。ずっと前（たぶん高校生ぐらい）から耳の上にホクロが変化してBB弾がくっついたぐらいの大きさの出っ張りがあって、今までは髪切ったときに丸見えになるぐらいで生活に支障はなかった。ただ、こないだから眼鏡をかけるようになったら眼鏡のツルと干渉するので思い切って取ってみるか、と。","tags":[],"title":"ミニミニ手術を受けた","type":"post"},{"authors":[],"categories":[],"content":"光クロスのレンタルルーターであるXG-100NEの動作に耐えられなくて解約申請をして、そしたらその後にファームウェアのアップデートがリリースされた。返却前の週末に今使ってるルーターからレンタルルーターに切り戻して、まだ不具合が出るか出ないかだけでも確認して気持ちをはっきりさせたかったけど、結局単純な理由で確認できなかった。\n手順としては単純で、ダウンロードページからファームウェアver.03.00.0002を落としてルーターのWebUIから適用するだけ。で、そのまま使えばテストできたのに、何か魔が差したんですよね。不具合と言うからにはちゃんと初期状態で再現できるか確認しないと意味がないかな、と。そう思ったので、まずは使う前に工場出荷時の状態に戻すみたいな初期化ボタンを押したんです。で、再起動してIPv6はつながってIPv4がつながらなくなったときに、あっ、と。\nXG-100NEはIPv4接続のためのMAP-Eバンドルというソフトウェアをフレッツ・ジョイントの仕組みを通じて受け取って初めてMAP-Eで通信できるはずなので、初期化したことでこのすでに受け取り済みのソフトウェアも消えてしまった。で、解約申請を出してこのソフトウェア配信もちょうど止まったところだったので、このソフトウェアが再度ダウンロードされることはなく。はい、ここで手詰まり、テストできず。初期化しよう、とかさえ思わなければ。\nhttp://ntt.setup:8888/tにアクセスして、あっ、と思った瞬間。何もない。 おとなしくすぐに梱包して期限内にレンタルルーターを返送しました。これで我が家でXG-100NEについて脳みそを使う時間を割くのは完全に終了です。\n","date":1685705588,"expirydate":-62135596800,"kind":"page","lang":"ja","lastmod":1685705588,"objectID":"006f71b1162ba6504c15ca066d2cb211","permalink":"https://nobuto-m.github.io/ja/post/2023/1685705588/","publishdate":"2023-06-02T20:33:08+09:00","relpermalink":"/ja/post/2023/1685705588/","section":"post","summary":"光クロスのレンタルルーターであるXG-100NEの動作に耐えられなくて解約申請をして、そしたらその後にファームウェアのアップデートがリリースされた。返却前の週末に今使ってるルーターからレンタルルーターに切り戻して、まだ不具合が出るか出ないかだけでも確認して気持ちをはっきりさせたかったけど、結局単純な理由で確認できなかった。","tags":[],"title":"XG-100NEの新ファームウェアのテストが結局できなかった話","type":"post"},{"authors":[],"categories":[],"content":"子どもがルイージマンション3をクリアした。祖父母に買ってもらって子どもメインで進めてて、まだ字が読めないなりに結構プレイできていた。所々こっちで調べてあげたり協力プレイで手伝ったりしてあげた感じ。\n謎解き要素も少しあって、わかんないときは本当に調べないとわかんなくて子どもには難しそうだったけども、まあでもほどよい感じ。最初の段階で、地下2階から15階まであることがエレベーターのボタン配置で明示されてて、進捗がわかりやすくてよかった。「今日は14階をクリアする！」みたいに意気込んでいたので。おかげで十の位の読み上げ（じゅうご、とか）が完璧になった。\n4-5歳の子どもがいままである程度ちゃんとプレイできて、ハマってきたのは何本かあって、ルイージマンション3も何回もやるリストに入ったみたい。\nGood Job! これは大人がやっても名作だと思ったけど、子どもはずーっとやってた。\nUntitled Goose Game 出張中にSteamで一人でキーボードでやってたときは難易度が高くて最初は楽しさがわからなかった。これは子どもは「鳥さんのゲーム」って読んでて、協力プレイでワイワイやる感じが盛り上がる。\nヨッシークラフトワールド これは体験版で最初のステージだけできるようになってて、子どもがそのステージだけをずっと繰り返してやってたので、折をみて購入。無限にパタパタ空中を浮いていられるモードにするのが子ども向きで重要。クリアした後の追加ステージは全部完走まではやりきれず。\nASTRO’s PLAYROOM これはPS5に最初から入っているデモ用ゲームだけど、デモって感じの分量ではないしすごく作り込まれてる。子どもは「ロボットのゲーム」って読んでる。過去のSony製品がアイテムとして登場するんだけど、祖父母宅に泊まりに行ったときにPS2の本体がたまたまあって「これロボットのゲームで見たやつ！」って興奮してた。\nKNACK 2 これは夫婦で何か協力プレイやりたいなと思って過去に買ってあったやつだけど、結局やらずに子どもとやることに。同じようなステージがだらだら続くふしがあるので、大人だとそんなにハマらないかもしれないが子どもは「コナックのゲームやる！」ってハマってる（ナックというのは発音しにくいみたい）。\nまとめ やっぱり全体的に、右スティックを使った視点移動がないゲームであることが重要な気がする。ポケモンのアルセウスとかスカーレット・バイオレットとかだとどうしても視点移動が必須でそうなるとあんまりストーリーが進められていない感じ。\n","date":1685275311,"expirydate":-62135596800,"kind":"page","lang":"ja","lastmod":1685275311,"objectID":"3a0451bff07fc067000f89be8b43024e","permalink":"https://nobuto-m.github.io/ja/post/2023/1685275311/","publishdate":"2023-05-28T21:01:51+09:00","relpermalink":"/ja/post/2023/1685275311/","section":"post","summary":"子どもがルイージマンション3をクリアした。祖父母に買ってもらって子どもメインで進めてて、まだ字が読めないなりに結構プレイできていた。所々こっちで調べてあげたり協力プレイで手伝ったりしてあげた感じ。","tags":[],"title":"子どもがルイージマンション3をクリアした","type":"post"},{"authors":[],"categories":[],"content":"基本はノートPCと検証機のどっちともUbuntuを常用してて、ごくごくたまーにWindowsが必要になることもあるので、Rufusで外付けSSDにWindowsをインストールしてある。で、この用途で使ってるKIOXIA EXCERIA G2 SSD-CK500N3G2/Nは値段で選んだので特に性能は気にしたことはなかったので、この機会に測ってみた。\nキャッシュ溢れみたいな変な落ち込みがない シーケンシャルアクセスはNVMeのSSDをUSBにケースで変換して接続していることを考慮してまったく文句なし。最初は測定しようと思ったときに、あーWindowsが入っちゃってるから書き込みテストできないじゃん、書き込みテストした後にもう一回Windowsインストールしてもいいけど面倒だなと思ったところにGNOME Disksの説明を読んで驚いた。\n書き込みテストはすでにデータがあるドライブにも実行可 Benchmarking the write-rate of a disk requires exclusive access to the disk (e.g. the disk or its partitions cannot be mounted or in use) and involves reading data and then writing it back. As a result, the contents of the disk is not changed.\nGNOME Disksだけが独占的にドライブにアクセスしている前提で、読んだデータをそのまま書き直すのでベンチマークが完走する限りはデータ破壊がないので、確かに頭いいなぁと。読んだデータしか使えないので、しっかりとランダムなデータを生成して書き込むタイプのベンチマークに比べると色んなレイヤーの影響で変に良い値が出てしまう懸念があるけどまあ簡易ベンチマークとしては本当に頭がいい。\nあとはUSB経由でつないでいても、ちゃんと色々な値が取れてすごいなぁと。\n$ sudo smartctl -a /dev/sda smartctl 7.2 2020-12-30 r5155 [x86_64-linux-6.1.0-1012-oem] (local build) Copyright (C) 2002-20, Bruce Allen, Christian Franke, www.smartmontools.org === START OF INFORMATION SECTION === Model Number: KIOXIA-EXCERIA G2 SSD Serial Number: XYZ Firmware Version: ECFA17.1 PCI Vendor/Subsystem ID: 0x1e0f IEEE OUI Identifier: 0x8ce38e Total NVM Capacity: 500,107,862,016 [500 GB] Unallocated NVM Capacity: 0 Controller ID: 1 NVMe Version: 1.3 Number of Namespaces: 1 Namespace 1 Size/Capacity: 500,107,862,016 [500 GB] Namespace 1 Formatted LBA Size: 512 Namespace 1 IEEE EUI-64: 8ce38e 0500bbcc25 Local Time is: Sun May 21 14:06:49 2023 JST Firmware Updates (0x12): 1 Slot, no Reset required Optional Admin Commands (0x0017): Security Format Frmw_DL Self_Test Optional NVM Commands (0x005f): Comp Wr_Unc DS_Mngmt Wr_Zero Sav/Sel_Feat Timestmp Log Page Attributes (0x0a): Cmd_Eff_Lg Telmtry_Lg Maximum Data Transfer Size: 512 Pages Warning Comp. Temp. Threshold: 72 Celsius Critical Comp. Temp. Threshold: 90 Celsius Supported Power States St Op Max Active Idle RL RT WL WT Ent_Lat Ex_Lat 0 + 7.69W - - 0 0 0 0 1 1 1 + 6.18W - - 1 1 1 1 1 1 2 + 5.42W - - 2 2 2 2 1 1 3 - 0.0500W - - 3 3 3 3 7000 5000 4 - 0.0050W - - 4 4 4 4 13000 36000 Supported LBA Sizes (NSID 0x1) Id Fmt Data Metadt Rel_Perf 0 + 512 0 2 1 - 4096 0 1 === START OF SMART DATA SECTION === SMART overall-health self-assessment test result: PASSED SMART/Health Information (NVMe Log 0x02) Critical Warning: 0x00 Temperature: 34 Celsius Available Spare: 100% Available Spare Threshold: 5% Percentage Used: 0% Data Units Read: 337,687 [172 GB] Data Units Written: 314,483 [161 GB] Host Read Commands: 12,348,912 Host Write Commands: 13,616,612 Controller Busy Time: 17 Power Cycles: 26 Power On Hours: 10 Unsafe Shutdowns: 24 Media and Data Integrity Errors: 0 Error Information Log Entries: 0 Warning Comp. Temperature Time: 0 Critical Comp. Temperature Time: 0 Warning: NVMe Get Log truncated to 0x200 bytes, 0x200 bytes zero filled Error Information (NVMe Log 0x01, 16 of 63 entries) No Errors Logged ","date":1685172674,"expirydate":-62135596800,"kind":"page","lang":"ja","lastmod":1685172674,"objectID":"6f9782dc3d57d3afda40bec3b604e1ad","permalink":"https://nobuto-m.github.io/ja/post/2023/1684645587/","publishdate":"2023-05-27T16:31:14+09:00","relpermalink":"/ja/post/2023/1684645587/","section":"post","summary":"基本はノートPCと検証機のどっちともUbuntuを常用してて、ごくごくたまーにWindowsが必要になることもあるので、Rufusで外付けSSDにWindowsをインストールしてある。で、この用途で使ってるKIOXIA EXCERIA G2 SSD-CK500N3G2/Nは値段で選んだので特に性能は気にしたことはなかったので、この機会に測ってみた。","tags":[],"title":"Windows用に使ってるSSD-CK500N3G2/Nもテストしてみた","type":"post"},{"authors":[],"categories":[],"content":"ONU、ルーターなどのネットワーク機器はクローゼットというか物置きというか、というところに置いてあるのだが、そのままだとケーブル類がぐちゃぐちゃになってしまうので整理してみた。本格的な19インチラックは導入せず、あくまで家庭用っぽくする方針で。\n整理前 3月に複合機を買ったときに同時にIKEAのテーブルを買っておいて、テーブルの上を複合機、下をネットワーク機器とまずは空間を分けておいた。必要になった段階でIKEAのテーブルを“LackRack”として使って1Uだけ使うつもりだった。で、ルーターを乗せるためだけに棚板の値段を調べたりして、結構高いななんて思いながら4月に買って最上段に取り付けて完成。とはならずに、棚板の落下防止の返し部分があることで、ルーターが入らなかった。毎回ネジを緩めたりすれば出し入れできるけれどもそれは果たして家庭用なのかなと。\n結局はルーター用の棚板を2段目にして空間を確保し、空いた一段目をそのままにしておくのはあれなので、特に必要のなかったケーブルオーガナイザーも買った。圧迫感を与えないように白色で探したので、配線が丸見えになる魚の骨タイプしかなかった。\n整理後 出来栄えとしては決して美しくはないけれども、当初の目的である床部分から配線を持ち上げる、ということは達成したのでよし。LackRackを初めてやってみた感想としては1U以上はやっぱり普通にメタルラック買った方がいいんじゃないでしょうか。使ったネジはM6の六角フランジタッピング。当然のことながらIKEAのテーブルは穴を開けられることを想定してないし、チップ材なのでドリルで穴開けると手応えなかったりネジ打ち込んでも最後の方空転したりする箇所がちらほらあるので。\nドリルで下穴も開けた あと最近光クロスの上りが最速の計測値でも2.5Gbpsを超えなくなってきたので、ちょっとはONUの温度下がらないかなと思ってあえて速度を落とすように設定してみた。インターネット側は10Gbpsから5Gbpsへ、LAN側は検証機を10Gbpsから2.5Gbps、他のポートとの合計で4.5Gbpsになるように。でもこれをやるとなぜ10Gbpsを契約しているのだろうという気持ちになるので、まずは様子見。\nと思ったけども、やっぱり2.5Gbpsだと10G対応のルーターを買った意味がないので落とすのは5Gbpsまでに。\n結局落とすのは5Gbpsまでにした ","date":1684594567,"expirydate":-62135596800,"kind":"page","lang":"ja","lastmod":1684594567,"objectID":"137953e01fb68652af2df1b3555a3aec","permalink":"https://nobuto-m.github.io/ja/post/2023/1684594567/","publishdate":"2023-05-20T23:56:07+09:00","relpermalink":"/ja/post/2023/1684594567/","section":"post","summary":"ONU、ルーターなどのネットワーク機器はクローゼットというか物置きというか、というところに置いてあるのだが、そのままだとケーブル類がぐちゃぐちゃになってしまうので整理してみた。本格的な19インチラックは導入せず、あくまで家庭用っぽくする方針で。","tags":[],"title":"ネットワーク配線の整理をした","type":"post"},{"authors":[],"categories":[],"content":"何度も出張する中で、スーツケースの角の部分が剥がれてきてしまった。実用上は支障がなくて、内袋はファスナー部分と一体なのでこの外殻との隙間部分から細かい荷物が落ちたりすることはまったくない。けれども一度だけ海外のチェックインカウンターでスーツケースが破損しているからという扱いになって、免責書類にサインさせられた。この部分の剥がれが大きくなっても別に賠償を要求しないけど、全体的な破損とかだとまた話が違ってくるので直すことに。\nポリカーボネート素材のはずなので、家にあったある程度強そうな接着剤のどれでもいけそうだったけど最終的にはポリカーボネート対応が明記されていたセメダイン スーパーXクリアを選択。\n","date":1684038443,"expirydate":-62135596800,"kind":"page","lang":"ja","lastmod":1684038443,"objectID":"b94a7c7f10bc6efe0579b2388c9bfcf8","permalink":"https://nobuto-m.github.io/ja/post/2023/1684038443/","publishdate":"2023-05-14T13:27:23+09:00","relpermalink":"/ja/post/2023/1684038443/","section":"post","summary":"何度も出張する中で、スーツケースの角の部分が剥がれてきてしまった。実用上は支障がなくて、内袋はファスナー部分と一体なのでこの外殻との隙間部分から細かい荷物が落ちたりすることはまったくない。けれども一度だけ海外のチェックインカウンターでスーツケースが破損しているからという扱いになって、免責書類にサインさせられた。この部分の剥がれが大きくなっても別に賠償を要求しないけど、全体的な破損とかだとまた話が違ってくるので直すことに。","tags":[],"title":"スーツケースの補修をした","type":"post"},{"authors":[],"categories":[],"content":"録画してあったTOKYO MERのSPドラマ「隅田川ミッション」を観た。TOKYO MERは医療ドラマだけど医療ドラマじゃない、まともな判断がなされないハチャメチャなドラマだけど、このスペシャルドラマはいつも通りハチャメチャで期待を裏切らなかった。絶対に一人では完走できなさそうな、家族と一緒にわいわい観るから楽しいタイプのドラマ。今回の話がMERの中での出来が良すぎて、映画がこれより面白くなれるのか心配になるぐらい。\n","date":1684037305,"expirydate":-62135596800,"kind":"page","lang":"ja","lastmod":1684037305,"objectID":"c59d1d8127ee7a35320260d2a24844d6","permalink":"https://nobuto-m.github.io/ja/post/2023/1684037305/","publishdate":"2023-05-14T13:08:25+09:00","relpermalink":"/ja/post/2023/1684037305/","section":"post","summary":"録画してあったTOKYO MERのSPドラマ「隅田川ミッション」を観た。TOKYO MERは医療ドラマだけど医療ドラマじゃない、まともな判断がなされないハチャメチャなドラマだけど、このスペシャルドラマはいつも通りハチャメチャで期待を裏切らなかった。絶対に一人では完走できなさそうな、家族と一緒にわいわい観るから楽しいタイプのドラマ。今回の話がMERの中での出来が良すぎて、映画がこれより面白くなれるのか心配になるぐらい。","tags":[],"title":"TOKYO MER 隅田川ミッションを観た","type":"post"},{"authors":[],"categories":[],"content":"フレッツ光クロスのひかり電話対応がアナウンスされた。提供開始日は2023年5月31日となっていて、それまでにひかり電話対応用のファームウェアアップデートが来ないといけないはずだけど、まだ東日本はver.02.00.0005(2021/02/24日付)が最新との表示。\n西日本の方は、ひかり電話対応のアナウンスの一足先にVersion 03.00.0001(2023/04/11日付)が出ている。\nhttps://www.ntt-west.co.jp/kiki/download/flets/xg100ne/\n今後のサービス拡張において必要な基本機能を追加しました。\n一部動作の改善を行いました。\nレンタルルーターなのでこれを無理やり適用するのはまずいので、ルーターの返却期限までに東日本公式のアップデートが来てくれれば通信が詰まる現象が解消されたかどうかだけでも確認できるのでいいなぁと期待。\n","date":1683630665,"expirydate":-62135596800,"kind":"page","lang":"ja","lastmod":1683630665,"objectID":"284ddc9c507731befa2d2c8a20699da4","permalink":"https://nobuto-m.github.io/ja/post/2023/1683630665/","publishdate":"2023-05-09T20:11:05+09:00","relpermalink":"/ja/post/2023/1683630665/","section":"post","summary":"フレッツ光クロスのひかり電話対応がアナウンスされた。提供開始日は2023年5月31日となっていて、それまでにひかり電話対応用のファームウェアアップデートが来ないといけないはずだけど、まだ東日本はver.02.00.0005(2021/02/24日付)が最新との表示。","tags":[],"title":"レンタルルーターのファームウェアアップデート待ち","type":"post"},{"authors":[],"categories":[],"content":"ゴールデンウィークも終わってしまう、でも何かちょっと子どものためにどっか連れて行ってあげたいと思った土曜日に東京ドームシティへ行った。リニューアルされてから行くのは初めてだと思う。メリーゴーラウンドはいつも馬じゃなくて馬車の客室部分にあたるベンチみたいなところに座りたいと言い出すけども、ちょうど他の付い添いの大人がベンチ2つに座ってくれたので、しぶしぶだけど初めて馬に乗ってくれてよかった。乗ったら乗ったでめちゃめちゃ楽しそうにしてくれるんだけど。\n夕飯はレストランせんごくで。このエリアなのに並ばずに入れてしまうのが何ともだけど、子ども連れて入れるので助かってます。\n","date":1683548704,"expirydate":-62135596800,"kind":"page","lang":"ja","lastmod":1683548704,"objectID":"0007d5eae9ea99a383652a5767c86792","permalink":"https://nobuto-m.github.io/ja/post/2023/1683548704/","publishdate":"2023-05-08T21:25:04+09:00","relpermalink":"/ja/post/2023/1683548704/","section":"post","summary":"ゴールデンウィークも終わってしまう、でも何かちょっと子どものためにどっか連れて行ってあげたいと思った土曜日に東京ドームシティへ行った。リニューアルされてから行くのは初めてだと思う。メリーゴーラウンドはいつも馬じゃなくて馬車の客室部分にあたるベンチみたいなところに座りたいと言い出すけども、ちょうど他の付い添いの大人がベンチ2つに座ってくれたので、しぶしぶだけど初めて馬に乗ってくれてよかった。乗ったら乗ったでめちゃめちゃ楽しそうにしてくれるんだけど。","tags":[],"title":"メリーゴーラウンドに乗った","type":"post"},{"authors":[],"categories":[],"content":"だいぶ黒ずんできたので本格的にお掃除。大理石みたいなツルツルタイプではなくて、かなりざらざらなタイプなので引っかかって雑巾で拭くこともできず掃除しにくい。メラミンスポンジもすごい勢いで削れていく。結局はメラミンスポンジに水をたっぷり含ませてタイルを濡らしていき、水で汚れが浮いたところを乾拭き雑巾で押さえるの繰り返し。\n家の外の部分はがっつり水がかけられるので専用のブラシを買った。水切りがついてるのが良い。どうせピカピカな状態は数日も持たないので、ある程度あきらめることが重要。\n","date":1683448276,"expirydate":-62135596800,"kind":"page","lang":"ja","lastmod":1683448276,"objectID":"888df1f7ce5d18e64401219a07a7c7ee","permalink":"https://nobuto-m.github.io/ja/post/2023/1683448276/","publishdate":"2023-05-07T17:31:16+09:00","relpermalink":"/ja/post/2023/1683448276/","section":"post","summary":"だいぶ黒ずんできたので本格的にお掃除。大理石みたいなツルツルタイプではなくて、かなりざらざらなタイプなので引っかかって雑巾で拭くこともできず掃除しにくい。メラミンスポンジもすごい勢いで削れていく。結局はメラミンスポンジに水をたっぷり含ませてタイルを濡らしていき、水で汚れが浮いたところを乾拭き雑巾で押さえるの繰り返し。","tags":[],"title":"玄関のタイル掃除をした","type":"post"},{"authors":[],"categories":[],"content":"運転免許の更新に支障はないぐらいだけれども、年齢とともに左目で遠くを見たときに霞むようになってきた。ずっと裸眼で過ごしてきて眼鏡が必要になるのは老眼になる時だけだと思ってたけど、そうはいかなかった。\n元から左右で見え方が少し違って高校生の時と6年前に眼鏡が欲しくて測定してもらって、多少乱視はあるものの眼鏡が必要なほどじゃないと言われてまあそうか、とあきらめた。ただ数年前から左目の違和感が大きくなってきてついに眼鏡を買うことに。選んだのは1本で運転にも使えるようにパカパカフリップタイプ。\nhttps://www.jins.com/jp/switch/#flip_up\nパカパカなしで紫外線の量によって色が変わる調光レンズの方がスマートだけど、ドライブに使ったり屋外から屋内に入った時を考えるとパカパカタイプがいいな、と。\nhttps://www.jins.com/jp/lens/colorcontrol/\n紫外線カットガラスに覆われた車内などでは、レンズは変色しません。\n濃いレンズが淡く戻るまでに多少の時間を要します。\n結果、左目用にSPH: -0.50、CYL: -0.50のレンズを入れてもらった。手元のノートPCを見るぐらいだと元から困ってなかったけど、それ以上の距離を見るときにパリッと見えて幸せ。\n","date":1683432577,"expirydate":-62135596800,"kind":"page","lang":"ja","lastmod":1683432577,"objectID":"fba59da0b46e49116f59886677fbf42c","permalink":"https://nobuto-m.github.io/ja/post/2023/1683432577/","publishdate":"2023-05-07T13:09:37+09:00","relpermalink":"/ja/post/2023/1683432577/","section":"post","summary":"運転免許の更新に支障はないぐらいだけれども、年齢とともに左目で遠くを見たときに霞むようになってきた。ずっと裸眼で過ごしてきて眼鏡が必要になるのは老眼になる時だけだと思ってたけど、そうはいかなかった。","tags":[],"title":"眼鏡を買った","type":"post"},{"authors":[],"categories":[],"content":"前回、SanDisk SDSSDA-2T00-G26がREGZAの2番組同時録画と別番組再生に追いつけなかった話で興味が出たので、同じシリーズの480GB(SDSSDA-480G-J26)も持ってたので同じ条件で軽く計測してみた。古いSSD同士で何をいまさらって感じがあるけど、まあ見てみたかったので。\nSanDisk SSD Plus 2TB SanDisk SSD Plus 480GB これを見ると480GBの方がガタガタではあるけれども、予測しやすい理屈に合った動きをしているように見えるし、平均書き込み速度で上回ってて、レイテンシーの面でも優秀。SSDは容量が大きい方がだいたい書き込み速度が上がる印象だけどこういうこともあるんだなと。ファームウェアのリビジョンによる違いなのかもしれないけど。\nと思ったら普通にデータシートに1TBの方が他より遅いって書いてあった。2TBは最速っぽく書いてあるけど。\nDatasheet (PDF)\nRead/write speeds of up to 545MB/s/450MBs** [2TB] Read/write speeds of up to 535MB/s/350MBs** [1TB] Read/write speeds of up to 535MB/s/445MBs** [480GB] Read/write speeds of up to 530MB/s/440MBs** [240GB] ちなみに実際のTBWはどちらも使いすぎってわけではなくて、大した値ではなかった。\n[480GB]\n$ sudo smartctl -A /dev/disk/by-id/ata-SanDisk_SDSSDA480G_XYZ -d sat smartctl 7.2 2020-12-30 r5155 [x86_64-linux-6.1.0-1009-oem] (local build) Copyright (C) 2002-20, Bruce Allen, Christian Franke, www.smartmontools.org === START OF READ SMART DATA SECTION === SMART Attributes Data Structure revision number: 1 Vendor Specific SMART Attributes with Thresholds: ID# ATTRIBUTE_NAME FLAG VALUE WORST THRESH TYPE UPDATED WHEN_FAILED RAW_VALUE 5 Retired_Block_Count 0x0032 100 100 000 Old_age Always - 0 9 Power_On_Hours_and_Msec 0x0032 000 100 000 Old_age Always - 11604h+00m+00.000s 12 Power_Cycle_Count 0x0032 100 100 000 Old_age Always - 1926 165 Unknown_Attribute 0x0032 100 100 000 Old_age Always - 7241469593843 166 Unknown_Attribute 0x0032 100 100 000 Old_age Always - 2 167 Unknown_Attribute 0x0032 100 100 000 Old_age Always - 0 168 Unknown_Attribute 0x0032 100 100 000 Old_age Always - 15 169 Unknown_Attribute 0x0032 100 100 000 Old_age Always - 0 170 Reserve_Block_Count 0x0032 100 100 000 Old_age Always - 0 171 Program_Fail_Count 0x0032 100 100 000 Old_age Always - 0 172 Erase_Fail_Count 0x0032 100 100 000 Old_age Always - 0 173 Unknown_SandForce_Attr 0x0032 100 100 000 Old_age Always - 8 174 Unexpect_Power_Loss_Ct 0x0032 100 100 000 Old_age Always - 120 187 Reported_Uncorrect 0x0032 100 100 000 Old_age Always - 0 188 Command_Timeout 0x0032 100 100 000 Old_age Always - 0 194 Temperature_Celsius 0x0022 061 022 000 Old_age Always - 39 (Min/Max 0/78) 199 SATA_CRC_Error_Count 0x0032 100 100 000 Old_age Always - 0 230 Life_Curve_Status 0x0032 100 100 000 Old_age Always - 3277067780859 232 Available_Reservd_Space 0x0033 100 100 004 Pre-fail Always - 100 233 SandForce_Internal 0x0032 100 100 000 Old_age Always - 3950 234 SandForce_Internal 0x0032 100 100 000 Old_age Always - 43857 241 Lifetime_Writes_GiB 0x0030 253 253 000 Old_age Offline - 13081 242 Lifetime_Reads_GiB 0x0030 253 253 000 Old_age Offline - 6245 244 Unknown_Attribute 0x0032 000 100 000 Old_age Always - 0 -\u0026gt; TBW: ~13 TB\n[2TB]\n$ sudo smartctl -A /dev/disk/by-id/ata-SanDisk_SSD_PLUS_2000GB_XYZ -d sat smartctl 7.2 2020-12-30 r5155 [x86_64-linux-6.1.0-1009-oem] (local build) Copyright (C) 2002-20, Bruce Allen, Christian Franke, www.smartmontools.org === START OF READ SMART DATA SECTION === SMART Attributes Data Structure revision number: 1 Vendor Specific SMART Attributes with Thresholds: ID# ATTRIBUTE_NAME FLAG VALUE WORST THRESH TYPE UPDATED WHEN_FAILED RAW_VALUE 5 Reallocated_Sector_Ct 0x0032 100 100 000 Old_age Always - 0 9 Power_On_Hours 0x0032 100 100 000 Old_age Always - 11767 12 Power_Cycle_Count 0x0032 100 100 000 Old_age Always - 343 165 Unknown_Attribute 0x0032 100 100 000 Old_age Always - 1378 166 Unknown_Attribute 0x0032 100 100 --- Old_age Always - 10 167 Unknown_Attribute 0x0032 100 100 --- Old_age Always - 98 168 Unknown_Attribute 0x0032 100 100 --- Old_age Always - 27 169 Unknown_Attribute 0x0032 100 100 --- Old_age Always - 1623 170 Unknown_Attribute 0x0032 100 100 --- Old_age Always - 0 171 Unknown_Attribute 0x0032 100 100 000 Old_age Always - 0 172 Unknown_Attribute 0x0032 100 100 000 Old_age Always - 0 173 Unknown_Attribute 0x0032 100 100 000 Old_age Always - 10 174 Unknown_Attribute 0x0032 100 100 000 Old_age Always - 239 184 End-to-End_Error 0x0032 100 100 --- Old_age Always - 0 187 Reported_Uncorrect 0x0032 100 100 000 Old_age Always - 0 188 Command_Timeout 0x0032 100 100 --- Old_age Always - 0 194 Temperature_Celsius 0x0022 058 071 000 Old_age Always - 42 (Min/Max 14/71) 199 UDMA_CRC_Error_Count 0x0032 100 100 --- Old_age Always - 0 230 Unknown_SSD_Attribute 0x0032 100 100 000 Old_age Always - 3698000397149 232 Available_Reservd_Space 0x0033 100 100 005 Pre-fail Always - 100 233 Media_Wearout_Indicator 0x0032 100 100 --- Old_age Always - 21640 234 Unknown_Attribute 0x0032 100 100 000 Old_age Always - 37214 241 Total_LBAs_Written 0x0030 100 100 000 Old_age Offline - 14543 242 Total_LBAs_Read 0x0030 100 100 000 Old_age Offline - 9730 244 Unknown_Attribute 0x0032 000 100 --- Old_age Always - 0 -\u0026gt; TBW: ~14.5 TB\n","date":1683280885,"expirydate":-62135596800,"kind":"page","lang":"ja","lastmod":1683280885,"objectID":"7637aa855e952bdafce1c67257360bbc","permalink":"https://nobuto-m.github.io/ja/post/2023/1683280885/","publishdate":"2023-05-05T19:01:25+09:00","relpermalink":"/ja/post/2023/1683280885/","section":"post","summary":"前回、SanDisk SDSSDA-2T00-G26がREGZAの2番組同時録画と別番組再生に追いつけなかった話で興味が出たので、同じシリーズの480GB(SDSSDA-480G-J26)も持ってたので同じ条件で軽く計測してみた。古いSSD同士で何をいまさらって感じがあるけど、まあ見てみたかったので。","tags":[],"title":"SanDisk SSD Plusシリーズは2TBの方が480GBより遅く見えちゃう","type":"post"},{"authors":[],"categories":[],"content":"SSD-SCT2.0U3BA/Nが15,980円と少し安くなっていたので思い切って買った。\nHDDのガリガリ音と振動の反響音がリビングで聞こえるのが嫌で、今までも2TBのSSDとしてSanDisk SDSSDA-2T00-G26をUSB接続で使っていた。ただこれがREGZAと組み合わせると全然期待通りに動いてくれない。テレビの録画なんて2番組同時録画してもせいぜい2x24Mbps、で同時録画中に他の番組を再生しても24Mbpsなので、6MB/sの書き込みと3MB/sの読み出しというHDDですら楽々こなせるタスクなのに、なぜかこのSanDiskのやつだとテレビ自体がエラーを吐いたり、録画データが破損してブロックノイズが出たりする。熱の影響かと思ってケースから出して裸で運用したり、USBからの電源供給が足りないかと思って補助電源を追加してもダメ。\nテレビが悪いのかSSDが悪いのか自信がないまま新しいSSDを買ったけど、結果として問題なく動いてくれてよかった。\nREGZAはXFSを使ってるのでファイルシステムか中身をコピーしてってのは可能かもしれないけど、今回はさくっとまるごと移行。\n$ lsblk -f /dev/disk/by-id/ata-SanDisk_SSD_PLUS_2000GB_XYZ NAME FSTYPE FSVER LABEL UUID FSAVAIL FSUSE% MOUNTPOINTS sda └─sda1 xfs d5ea386b-ad90-47fc-9105-383cb0b00eba 118.8G 94% /media/nobuto/d5ea386b-ad90-47fc-9105-383cb0b00eba 移行元と移行先のSSDのサイズはピッタリ同じなのでリサイズを考慮しなくていい。\n$ lsblk \\ /dev/disk/by-id/ata-SanDisk_SSD_PLUS_2000GB_XYZ \\ /dev/disk/by-id/usb-BUFFALO_SSD-SCTU3A_XYZ-0\\:0 NAME MAJ:MIN RM SIZE RO TYPE MOUNTPOINTS sda 8:0 0 1.8T 0 disk ... sdb 8:16 0 1.8T 0 disk ... $ lsblk -b \\ /dev/disk/by-id/ata-SanDisk_SSD_PLUS_2000GB_XYZ \\ /dev/disk/by-id/usb-BUFFALO_SSD-SCTU3A_XYZ-0\\:0 NAME MAJ:MIN RM SIZE RO TYPE MOUNTPOINTS sda 8:0 0 2000398934016 0 disk ... sdb 8:16 0 2000398934016 0 disk ... で、移行元のドライブも壊れてるわけではないので、ddrescueではなくさくっとddで。\n$ sudo dd \\ if=/dev/disk/by-id/ata-SanDisk_SSD_PLUS_2000GB_XYZ \\ of=/dev/disk/by-id/usb-BUFFALO_SSD-SCTU3A_XYZ-0\\:0 \\ bs=4M status=progress oflag=sync 2000398934016 bytes (2.0 TB, 1.8 TiB) copied, 18102.6 s, 111 MB/s 最初のうちは200-300MB/sとかでコピーされてたけれども徐々に100MB/sぐらいに落ち着いて結局5時間以上かかることに。\n移行が終わってからSanDiskのSSDをテストすると、新しいSSDの方が全然安定してる。特にレイテンシー。\n旧SSD、あんまり安定していない 新SSD、安定してる 条件を変えてもっと長く書き込みすると、なるほどテレビ録画といえどもこのSSDにはきつかったのかもしれない、という図が出せる。\n旧SSD、長く書くと10MB/sぐらいまで落ち込むこともある 旧SSDの費用が無駄になった感じがするけど、テレビ自体は悪くなさそうというのがわかっただけでも良しとする。\n","date":1683173373,"expirydate":-62135596800,"kind":"page","lang":"ja","lastmod":1683173373,"objectID":"0455d386518c5672001bef58afa6834f","permalink":"https://nobuto-m.github.io/ja/post/2023/1683173373/","publishdate":"2023-05-04T13:09:33+09:00","relpermalink":"/ja/post/2023/1683173373/","section":"post","summary":"SSD-SCT2.0U3BA/Nが15,980円と少し安くなっていたので思い切って買った。","tags":[],"title":"REGZAの録画用ドライブをSSD-SCT2.0U3BA/Nに交換した","type":"post"},{"authors":[],"categories":[],"content":"ゴールデンウィーク開始の土日に、義両親の家に子どもと泊まってその足で観てきた。子どもが映画の予告を見てからずっと観たいと言っていて、GW期間中になることも知っていたので連休のスタートダッシュをきめた感じ。4DXの方が面白いかなと思ったけど、まだ3D用のメガネを上映中ずっとかけてるのは難しいかなと判断し2D上映で。終わった後に歩道橋の上でいきなり立ち止まって「マリオの映画楽しかった」と伝えてくれたのですべて良し。\n","date":1683115334,"expirydate":-62135596800,"kind":"page","lang":"ja","lastmod":1683115334,"objectID":"f884a9dc787a03a26341166218ee788f","permalink":"https://nobuto-m.github.io/ja/post/2023/1683115334/","publishdate":"2023-05-03T21:02:14+09:00","relpermalink":"/ja/post/2023/1683115334/","section":"post","summary":"ゴールデンウィーク開始の土日に、義両親の家に子どもと泊まってその足で観てきた。子どもが映画の予告を見てからずっと観たいと言っていて、GW期間中になることも知っていたので連休のスタートダッシュをきめた感じ。4DXの方が面白いかなと思ったけど、まだ3D用のメガネを上映中ずっとかけてるのは難しいかなと判断し2D上映で。終わった後に歩道橋の上でいきなり立ち止まって「マリオの映画楽しかった」と伝えてくれたのですべて良し。","tags":[],"title":"ザ・スーパーマリオブラザーズ・ムービーを観た","type":"post"},{"authors":[],"categories":[],"content":"光クロスを契約した当初は10Gbps対応uplink/downlinkが1つずつ付いたルーターが⽉額550円で借りられるなんて激安だと思ったけど、このXG-100NEは独特の詰まり方をするので耐えられなくなってしまった。\nhttps://gihyo.jp/admin/serial/01/ubuntu-recipe/0706\n未解決の問題として、Androidスマートフォンの画面スリープからの復帰直後にICMP(IPv4)もTCP(IPv6)も問題なく疎通できるのにも関わらず、数分間だけTCP(IPv4)で再送が多発する場合があります。常に再現するわけではなく、しばらく待ったり、Android側でWi-Fiのオンオフ操作をすると即座に直ってしまうため\nこのように書くとMAP-Eのポートが足りなくなってるだけじゃないの、と読めるし、セキュリティログ(IPv4)というところに利用可能なポート無しとも出てくる。確定じゃんと思うけども、不思議なのはクライアント側から送られてくる通信がサーバー側から見えるのでポートの割り当て自体はできているように見えること。あと、クライアントの数が鍵な気がする(15-20台とか）。利用可能なポート無しは常に出ているので限界な状態をさらに超えると発生するのかも。\n時々TCP4通信だけが詰まる原因がわからん。このログ(何を意味するかの説明はない)からするとMAP-Eするときのソースポートが足りてないと言わんとしてそうだけど、特に1,000コネクションも張ってないと思うんだよな。 pic.twitter.com/2Es0GsLdGv\n— Nobuto Murata (@nobuto_m) January 29, 2022 で、発生した場合の通信をよく見てても特にポート枯渇してるようには見えず、TCP Port numbers reusedとTCP Retransmissionが観測されるのでなんとなくNAT/conntrackに相当するところが怪しいけれどもルーター側では詳しいログが出ないので詳細はわからず。\nやっぱり事象が発生するときはボコボコだな。HTTPはその状態でかろうじてなんとかなってもHTTPSはなんとかはならない。 pic.twitter.com/VtaygPYi3a\n— Nobuto Murata (@nobuto_m) February 27, 2022 現象が発生したらクライアント側から再接続しなきゃいけないのが面倒で、しかも再接続した後からは普通に使えてしまう謎。NEC製なので他のメーカーで切り分けしたくてまずは10Gbps対応していない5千円弱のBuffaloルーターを買ってきて取り替えたら現象がまったく発生しない！\nもしかしたらNEC製XG-100NEの方が規格に則った正しい動きということがあるのかもしれないけど、やっぱり現象が発生しない方がいいのでNEC製じゃない10Gbps対応かつOCNバーチャルコネクトにしっかり対応したものを探して最終的にはBuffaloのVR-U500Xを購入。ある程度値段はするものの10Gbps対応ルーターとして長く動いてくれればそれでよし。無線LAN一体型ではないので、アクセスポイントがルーターとは別に選べることがメリットだと思い込むことにします。\n肝心のレンタルルーター解約手続きはお電話のみの対応っぽかったので、オペレーターにつながるまで10分、その後15分ぐらいで手続きは完了。工事扱いになるので工事日にMAP-Eでつながらない時間ができないかだけ心配。\n","date":1683091989,"expirydate":-62135596800,"kind":"page","lang":"ja","lastmod":1683091989,"objectID":"4d25e192b98d140ac7ff6c6fe7c1c224","permalink":"https://nobuto-m.github.io/ja/post/2023/1683091989/","publishdate":"2023-05-03T14:33:09+09:00","relpermalink":"/ja/post/2023/1683091989/","section":"post","summary":"光クロスを契約した当初は10Gbps対応uplink/downlinkが1つずつ付いたルーターが⽉額550円で借りられるなんて激安だと思ったけど、このXG-100NEは独特の詰まり方をするので耐えられなくなってしまった。","tags":[],"title":"光クロス対応レンタルルーターの解約申請をした","type":"post"},{"authors":[],"categories":[],"content":"自分が書きたいがために何度目かのマイクロブログを始めてみる。Twitterみたいなサービスが出てきてからそこに書けばいいやってなってしまって、でもやっぱりTwitter以上長文ブログ未満のものが欲しくなって色々なサービスを使うものの結局サービス自体がなくなったりして長続きしない。その間にコツコツと10年以上同じところで書いてる人のものを読むと、映画観に行ったちょっとした感想とかでもなんか充実してるなとうらやましい気持ちになる。ということで私もその時は充実してると認識してなくても、後で見返してなんか充実してたんだなぁという気持ちになれたらいいなと思い書いていく。\nここではある程度続くかもしれないし、続かないかもしれない。今日時点のGitHub Pagesの規約ではこういった使い方は問題なさそうに読めるけど、いざとなったらデータそのままで自分のサーバーに置く予定。\n","date":1683077841,"expirydate":-62135596800,"kind":"page","lang":"ja","lastmod":1683077841,"objectID":"fc4de64a7d2180d793ca2796a07cf62c","permalink":"https://nobuto-m.github.io/ja/post/2023/1683077841/","publishdate":"2023-05-03T10:37:21+09:00","relpermalink":"/ja/post/2023/1683077841/","section":"post","summary":"自分が書きたいがために何度目かのマイクロブログを始めてみる。Twitterみたいなサービスが出てきてからそこに書けばいいやってなってしまって、でもやっぱりTwitter以上長文ブログ未満のものが欲しくなって色々なサービスを使うものの結局サービス自体がなくなったりして長続きしない。その間にコツコツと10年以上同じところで書いてる人のものを読むと、映画観に行ったちょっとした感想とかでもなんか充実してるなとうらやましい気持ちになる。ということで私もその時は充実してると認識してなくても、後で見返してなんか充実してたんだなぁという気持ちになれたらいいなと思い書いていく。","tags":[],"title":"マイクロブログ","type":"post"}]