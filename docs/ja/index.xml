<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Nobuto Murata</title>
    <link>https://nobuto-m.github.io/ja/</link>
      <atom:link href="https://nobuto-m.github.io/ja/index.xml" rel="self" type="application/rss+xml" />
    <description>Nobuto Murata</description>
    <generator>Wowchemy (https://wowchemy.com)</generator><language>ja</language><lastBuildDate>Sun, 30 Jul 2023 14:28:19 +0900</lastBuildDate>
    <image>
      <url>https://nobuto-m.github.io/media/icon_hu1576a685d49928373d27b4c079446fa6_3195_512x512_fill_lanczos_center_3.png</url>
      <title>Nobuto Murata</title>
      <link>https://nobuto-m.github.io/ja/</link>
    </image>
    
    <item>
      <title>TailscaleのACLを設定した</title>
      <link>https://nobuto-m.github.io/ja/post/2023/1690694899/</link>
      <pubDate>Sun, 30 Jul 2023 14:28:19 +0900</pubDate>
      <guid>https://nobuto-m.github.io/ja/post/2023/1690694899/</guid>
      <description>&lt;p&gt;&lt;a href=&#34;https://tailscale.com/kb/1018/acls/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;TailscaleのACL&lt;/a&gt;は簡単に設定できることは知ってたけど、自分のデバイス間は全許可というデフォルトのポリシーのまま使っていた。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-json&#34; data-lang=&#34;json&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;nt&#34;&gt;&amp;#34;acls&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;c1&#34;&gt;// Allow all connections.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;c1&#34;&gt;// Comment this section out if you want to define specific restrictions.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;&amp;#34;action&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;accept&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;&amp;#34;src&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;*&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;],&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;&amp;#34;dst&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;*:*&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]},&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;p&#34;&gt;],&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;一応手元のデバイスだけは&lt;code&gt;tailscale up --shields-up&lt;/code&gt;でどこからもアクセスを受け付けないようにしてたし、仮にポートが空いていても認証が必須にはなっていた。ただ、人に&lt;a href=&#34;https://tailscale.com/kb/1084/sharing/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Tailscaleのデバイス共有機能&lt;/a&gt;と別途SSHの鍵認証でログインを許可することがあり、ログインするとそのデバイスが紐付いているTailscaleアカウント（私のアカウント）内の全デバイスに（ネットワーク的に）アクセスできてしまう。もちろん信頼できる人にしかログインさせていないけれども、これを機にACLを設定した。特筆することはなくドキュメント通り。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://tailscale.com/kb/1018/acls/#tailscale-policy-syntax&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Syntax reference&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://tailscale.com/kb/1068/acl-tags/#defining-a-tag&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Tags reference&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://tailscale.com/kb/1018/acls/#tests&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Tests reference&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://tailscale.com/kb/1192/acl-samples/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Examples&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;まずはデバイスを3つタグにグループ分け。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;tag:client&lt;/code&gt; - 手元のノートPC&lt;/li&gt;
&lt;li&gt;&lt;code&gt;tag:server&lt;/code&gt; - 検証用マシンなど&lt;/li&gt;
&lt;li&gt;&lt;code&gt;tag:scraper&lt;/code&gt; - Prometheusを動かしているマシン&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-json&#34; data-lang=&#34;json&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;c1&#34;&gt;// Define the tags which can be applied to devices and by which users.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;  &lt;span class=&#34;nt&#34;&gt;&amp;#34;tagOwners&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nt&#34;&gt;&amp;#34;tag:client&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;  &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;autogroup:admin&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;],&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nt&#34;&gt;&amp;#34;tag:server&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;  &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;autogroup:admin&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;],&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nt&#34;&gt;&amp;#34;tag:scraper&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;autogroup:admin&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;],&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;p&#34;&gt;},&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ACLは初期ルールをコメントアウトするとデフォルトが全拒否になるので、必要なルールだけ追加。この場合は、手元のノートPCからは全マシンに全許可、Prometheusからは&lt;code&gt;server&lt;/code&gt;タグが付いたマシンのNode exporter用&lt;code&gt;9100&lt;/code&gt;ポートのみ許可。&lt;code&gt;server&lt;/code&gt;タグ用のルールは存在しないのでこのタグのマシンはどこへもアクセスできない。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-json&#34; data-lang=&#34;json&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;c1&#34;&gt;// Define access control lists for users, groups, autogroups, tags,
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;  &lt;span class=&#34;c1&#34;&gt;// Tailscale IP addresses, and subnet ranges.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;  &lt;span class=&#34;nt&#34;&gt;&amp;#34;acls&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;c1&#34;&gt;// Allow all connections.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;c1&#34;&gt;// Comment this section out if you want to define specific restrictions.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;c1&#34;&gt;//{&amp;#34;action&amp;#34;: &amp;#34;accept&amp;#34;, &amp;#34;src&amp;#34;: [&amp;#34;*&amp;#34;], &amp;#34;dst&amp;#34;: [&amp;#34;*:*&amp;#34;]},
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;&amp;#34;action&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;accept&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;&amp;#34;src&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;tag:client&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;],&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;&amp;#34;dst&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;*:*&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]},&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;&amp;#34;action&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;accept&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;&amp;#34;src&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;tag:scraper&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;],&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;&amp;#34;dst&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;tag:server:9100&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]},&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;p&#34;&gt;],&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

















&lt;figure  id=&#34;figure-tagscraperのプレビュー&#34;&gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img alt=&#34;`tag:scraper`のプレビュー&#34;
           src=&#34;https://nobuto-m.github.io/ja/post/2023/1690694899/featured.png&#34;
           loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;figcaption&gt;
      &lt;code&gt;tag:scraper&lt;/code&gt;のプレビュー
    &lt;/figcaption&gt;&lt;/figure&gt;

&lt;p&gt;ルール数が最小なので、テストを書くのも簡単。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-json&#34; data-lang=&#34;json&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;c1&#34;&gt;// Test access rules every time they&amp;#39;re saved.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;  &lt;span class=&#34;nt&#34;&gt;&amp;#34;tests&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;c1&#34;&gt;// clients can access anywhere
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;      &lt;span class=&#34;nt&#34;&gt;&amp;#34;src&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;tag:client&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;nt&#34;&gt;&amp;#34;accept&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;tag:server:22&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;tag:client:22&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;tag:scraper:22&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;],&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;p&#34;&gt;},&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;c1&#34;&gt;// scraper can only access to servers with port 9100
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;      &lt;span class=&#34;nt&#34;&gt;&amp;#34;src&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;tag:scraper&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;nt&#34;&gt;&amp;#34;accept&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;tag:server:9100&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;],&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;nt&#34;&gt;&amp;#34;deny&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;   &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;tag:client:22&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;tag:scraper:22&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;tag:server:22&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;],&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;p&#34;&gt;},&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;c1&#34;&gt;// servers cannot access anywhere
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;      &lt;span class=&#34;nt&#34;&gt;&amp;#34;src&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;  &lt;span class=&#34;s2&#34;&gt;&amp;#34;tag:server&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;nt&#34;&gt;&amp;#34;deny&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;tag:client:22&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;tag:server:22&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;tag:scraper:22&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;],&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;p&#34;&gt;},&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;p&#34;&gt;],&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;これでデバイスを共有してログインしてもらったとしても、アカウント内の全デバイスへのネットワークアクセスまで許可することはなくなった。&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>NucBox3での運用一筋縄ではいかないかも</title>
      <link>https://nobuto-m.github.io/ja/post/2023/1690287370/</link>
      <pubDate>Tue, 25 Jul 2023 21:16:10 +0900</pubDate>
      <guid>https://nobuto-m.github.io/ja/post/2023/1690287370/</guid>
      <description>&lt;p&gt;&lt;a href=&#34;https://nobuto-m.github.io/ja/post/2023/1687011989/&#34;&gt;Raspberry Pi 2Bの代用として買ったNucBox3&lt;/a&gt;を数週間運用してて、ある程度いい感じに動いてくれてると思ってたけど急に手がかかるようになった。マシンの上で動かしていたのは&lt;a href=&#34;https://nobuto-m.github.io/ja/post/2023/1688885165/&#34;&gt;n8nでの定期タスク&lt;/a&gt;で、それ自体は負荷がかからないけどそれをわざわざsingle-node Kubernetesの上で動かしていたのでそれなりにディスクアクセスはあった。それでもまあ大したものじゃなかったけど、急にfilesystemがread-onlyに。&lt;/p&gt;


















&lt;figure  id=&#34;figure-30-iosからの突然のread-only&#34;&gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img alt=&#34;~30 IO/sからの突然のread-only&#34;
           src=&#34;https://nobuto-m.github.io/ja/post/2023/1690287370/featured.png&#34;
           loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;figcaption&gt;
      ~30 IO/sからの突然のread-only
    &lt;/figcaption&gt;&lt;/figure&gt;

&lt;p&gt;こういうのが嫌だったので、SDカード運用のRaspberry Pi 2Bから離れたのに結局は同じ状況に。再起動してもすぐにread-onlyになってしまって、なぜかSSHも鍵認証で弾かれる。ただ、node-exporterだけはしっかり動いていて状況だけは詳細にわかる謎。&lt;/p&gt;
&lt;p&gt;とりあえず、ファイルシステムの復旧か再インストールかを現地でして様子見するしかないけど、もしファンレスで温度が高めであることが原因だったらこのマシンという選択自体が間違いということになるので悲しいですね。&lt;/p&gt;


















&lt;figure  id=&#34;figure-温度はむしろ最近落ち着いていた&#34;&gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img alt=&#34;温度はむしろ最近落ち着いていた&#34;
           src=&#34;https://nobuto-m.github.io/ja/post/2023/1690287370/temperature.png&#34;
           loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;figcaption&gt;
      温度はむしろ最近落ち着いていた
    &lt;/figcaption&gt;&lt;/figure&gt;

&lt;p&gt;一応、昼間は冷房のかかっている部屋に置いてあるのでそんなに想定温度とは違わないはずなんだけど。&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>ドラマ『トリリオンゲーム』にUbuntuがちらっと映った</title>
      <link>https://nobuto-m.github.io/ja/post/2023/1689418398/</link>
      <pubDate>Sat, 15 Jul 2023 19:53:18 +0900</pubDate>
      <guid>https://nobuto-m.github.io/ja/post/2023/1689418398/</guid>
      <description>&lt;p&gt;会社に何か話が来ていたことは知っていて、ただ本当に映るのか観るまでは知らなかったので無事に映っててよかった。&lt;/p&gt;


















&lt;figure  id=&#34;figure-ubuntuのロゴも美術協力の一覧の中に&#34;&gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img alt=&#34;Ubuntuのロゴも美術協力の一覧の中に&#34; srcset=&#34;
               /ja/post/2023/1689418398/featured_huc1271ed999db08fd9e91b15d22ad4434_179752_437f53d046a2a28b35bb2790405da1c2.webp 400w,
               /ja/post/2023/1689418398/featured_huc1271ed999db08fd9e91b15d22ad4434_179752_3485d4257c548076dde653918ff5a5d9.webp 760w,
               /ja/post/2023/1689418398/featured_huc1271ed999db08fd9e91b15d22ad4434_179752_1200x1200_fit_q75_h2_lanczos.webp 1200w&#34;
               src=&#34;https://nobuto-m.github.io/ja/post/2023/1689418398/featured_huc1271ed999db08fd9e91b15d22ad4434_179752_437f53d046a2a28b35bb2790405da1c2.webp&#34;
               width=&#34;760&#34;
               height=&#34;428&#34;
               loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;figcaption&gt;
      Ubuntuのロゴも美術協力の一覧の中に
    &lt;/figcaption&gt;&lt;/figure&gt;

&lt;p&gt;&lt;a href=&#34;https://www.tbs.co.jp/trilliongame_tbs/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;『トリリオンゲーム』のドラマ&lt;/a&gt;自体はいくつかの会社が技術監修やってますっていう記事を出していて、うちの会社（もちろん私は会社を代表するものではないですが）としては特にこれといったことはしてないと思います。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://ricsec.co.jp/news/tbs-trilliongame/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;TBS金曜ドラマ『トリリオンゲーム』のハッキングシーン舞台裏 - 株式会社リチェルカセキュリティ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://flatt.tech/magazine/entry/20230714_trillion_game_drama&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;「セキュリティコンテストは本当にあるの？」「具体的な技術的設定は？」ドラマ『トリリオンゲーム』第1話 技術監修の裏側を解説します！&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;外野の感想としては、コマンドラインで操作するところはカッコよく作り込まれているなと。あと芸が細かいなと思ったのは、主人公たちの学生時代にノートPCを開いた場面では、UnityのLauncherが映っていたところでしょうか。「その時代のUbuntuは今の画面じゃなくてUnityだからちゃんとUnity使わなきゃ」って言った人がいたのかしら。実際のシーンがどんな感じだったかは、TVerとかNetflixとかで確認していただければと。&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>n8nでRSSの新着アイテムをwebhookに投げる</title>
      <link>https://nobuto-m.github.io/ja/post/2023/1688885165/</link>
      <pubDate>Sun, 09 Jul 2023 15:46:05 +0900</pubDate>
      <guid>https://nobuto-m.github.io/ja/post/2023/1688885165/</guid>
      <description>&lt;p&gt;昔は&lt;a href=&#34;https://internet.watch.impress.co.jp/cda/news/2006/03/27/11384.html&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;SleipnirのRSSリーダー&lt;/a&gt;とかGoogle Readerとかを使っていて、Feedlyもちょっとは使っていた。けれどもいつのまにかTwitterで話題になったやつとか、&lt;a href=&#34;https://developers.google.com/search/docs/appearance/google-discover&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Google Discover&lt;/a&gt;で出てきたニュースをちょろっと読むだけになってしまった。もうちょっと能動的にキーワードで引っ掛けたりして自分にとって重要そうなニュースを早めに読みたいという気持ちはあり、&lt;a href=&#34;https://n8n.io/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;n8n&lt;/a&gt;のself-hostingコミュニティ版を使ってチャットに流すことにした。&lt;/p&gt;


















&lt;figure  id=&#34;figure-ピタゴラスイッチっぽさ&#34;&gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img alt=&#34;ピタゴラスイッチっぽさ&#34;
           src=&#34;https://nobuto-m.github.io/ja/post/2023/1688885165/featured.png&#34;
           loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;figcaption&gt;
      ピタゴラスイッチっぽさ
    &lt;/figcaption&gt;&lt;/figure&gt;

&lt;p&gt;最初はすんなりいくかとおもって、特にメモを書くこともないなぁと思ってたけど、しっかりあったので書いておく。&lt;/p&gt;
&lt;p&gt;まず、&lt;a href=&#34;https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.rssfeedread/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;RSSフィードを扱ってくれるRSS Readノード&lt;/a&gt;は、RSSのURLを1個しか受け取ってくれない。なので複数サイトのフィードを一気に扱いたいときは、さっそく他のノードとの連携が必要になってくる。幸い&lt;a href=&#34;https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.splitinbatches/#example-usage-read-rss-feed-from-two-different-sources&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;このトピックそのものの公式ドキュメントがあるので&lt;/a&gt;、&lt;code&gt;Split In Batches&lt;/code&gt;ノードでループを作ればいいことがわかるのだが、このループを作成するときにフィードのリストを渡すための「リストを定義する」みたいなノードが存在しない。&lt;/p&gt;
&lt;p&gt;仕方がないので、先ほどの公式ドキュメントにあるように、別途任意のJavascriptコードを書ける&lt;a href=&#34;https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.code/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Codeノード&lt;/a&gt;を用意して、下記のようにして次に実行されるノードにリストが渡るようにする。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-javascript&#34; data-lang=&#34;javascript&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;json&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;url&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;https://news1.example.com/feed&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}},&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;json&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;url&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;https://news2.example.com/feed&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}},&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;json&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;url&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;https://news3.example.com/feed&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}},&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;json&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;url&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;https://news4.example.com/feed&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}},&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;json&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;url&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;https://news5.example.com/feed&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}},&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;];&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ここまでで、ワークフローが実行されたときに全部のサイトを巡回して、RSS内のアイテムを取ってきてくれるのだが、ここから「前回実行時からの新着アイテム」に絞り込むことがRSSノードではできない。このままWebhookへのPOSTにつなげてしまうと、ワークフローが実行されるたびに古い記事も含めて全部のアイテムがチャットに投げられてしまうので悲劇。そこでまずはワークフローの実行間隔を、cronに相当する&lt;a href=&#34;https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.scheduletrigger/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Schedule trigger&lt;/a&gt;ノードで設定する。ここでは例として157分間隔に設定。&lt;/p&gt;


















&lt;figure  id=&#34;figure-実行間隔の設定&#34;&gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img alt=&#34;実行間隔の設定&#34;
           src=&#34;https://nobuto-m.github.io/ja/post/2023/1688885165/schedule_trigger.png&#34;
           loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;figcaption&gt;
      実行間隔の設定
    &lt;/figcaption&gt;&lt;/figure&gt;

&lt;p&gt;続いて、&lt;code&gt;Split In Batches&lt;/code&gt;ノードの後ろに&lt;a href=&#34;https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.filter/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Filterノード&lt;/a&gt;をつなげて、次のようなフィルターを設定する。&lt;/p&gt;


















&lt;figure  id=&#34;figure-現在時刻から157分前を指定&#34;&gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img alt=&#34;現在時刻から157分前を指定&#34;
           src=&#34;https://nobuto-m.github.io/ja/post/2023/1688885165/filter_by_date.png&#34;
           loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;figcaption&gt;
      現在時刻から157分前を指定
    &lt;/figcaption&gt;&lt;/figure&gt;

&lt;p&gt;ここで、RSS内のアイテムに紐付いている日時&lt;code&gt;{{$json.isoDate}}&lt;/code&gt;と、現在時刻から157分前の日時&lt;code&gt;{{$now.minus({minutes:157}).toISO()}}&lt;/code&gt;を比べて、記事が前回の実行時より新しいかどうかを無理やり判定する。&lt;/p&gt;
&lt;p&gt;これ以外にいい方法がないか調べたけども、公式のノードだけではこれが限界っぽい。157分をハードコードすると、後々間隔を変更したときにこの部分を変更し忘れそうなので変数を使って&lt;br&gt;
&lt;code&gt;$(&#39;Schedule Trigger&#39;).params[&amp;quot;rule&amp;quot;][&amp;quot;interval&amp;quot;][0][&amp;quot;minutesInterval&amp;quot;]&lt;/code&gt;&lt;br&gt;
に変更しておくとよさそう。後は&lt;code&gt;$now&lt;/code&gt;を使うとワークフロー全体が開始された日時ではなくて、&lt;a href=&#34;https://docs.n8n.io/code-examples/expressions/luxon/#variables&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;コード自体が呼び出された日時が入りそうなので&lt;/a&gt;、フィードの取得に時間がかかったときなどは空白の時間が生まれて新着判定が上手くいかなそうなので、ここも変数を使ってワークフローが開始された日時そのものを使うために&lt;br&gt;
&lt;code&gt;$(&#39;Schedule Trigger&#39;).item.json.timestamp&lt;/code&gt;&lt;br&gt;
としておく。&lt;/p&gt;
&lt;p&gt;最終的には新着判定のために使う基準日時は&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-javascript&#34; data-lang=&#34;javascript&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;{{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;nx&#34;&gt;DateTime&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;fromISO&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;$&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;Schedule Trigger&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;).&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;item&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;json&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;timestamp&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;minus&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;({&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;nx&#34;&gt;minutes&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;nx&#34;&gt;$&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;Schedule Trigger&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;).&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;params&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;rule&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;][&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;interval&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;][&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;][&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          &lt;span class=&#34;s2&#34;&gt;&amp;#34;minutesInterval&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;p&#34;&gt;],&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;p&#34;&gt;})&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;toISO&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;();&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;となる、けど読みにくいですね。&lt;/p&gt;
&lt;p&gt;このあたりは、何分間隔という指定ではなくて、毎時決まった時間に、とした方がすっきりすると思う。だけど、毎時決まった時間にフィードを取りに行くのはなんかしっくりこないんですよね。&lt;/p&gt;
&lt;p&gt;ここまでで新着判定はできているはずなので、後はWebhookに向かって情報を投げるだけ。&lt;a href=&#34;https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.httprequest/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;HTTP Requestノード&lt;/a&gt;を使って、サービスに合わせて整形した上で投げる。例えば&lt;a href=&#34;https://developers.mattermost.com/integrate/webhooks/incoming/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Mattermostの場合は&lt;/a&gt;、&lt;code&gt;text&lt;/code&gt;にリンクを入れてあげれば自動でプレビューされるので十分。&lt;/p&gt;


















&lt;figure  id=&#34;figure-リンクやタイトルを整形して投げる&#34;&gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img alt=&#34;リンクやタイトルを整形して投げる&#34;
           src=&#34;https://nobuto-m.github.io/ja/post/2023/1688885165/webhook.png&#34;
           loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;figcaption&gt;
      リンクやタイトルを整形して投げる
    &lt;/figcaption&gt;&lt;/figure&gt;

&lt;p&gt;新着アイテムを全部投稿するのではなくて、特定のキーワードに合致するものだけに絞りたければ、POSTする前にもう一つFilterノードを追加してRegexが書ける。&lt;/p&gt;


















&lt;figure  id=&#34;figure-タイトルか概要がキーワードを含むものだけに絞れる&#34;&gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img alt=&#34;タイトルか概要がキーワードを含むものだけに絞れる&#34;
           src=&#34;https://nobuto-m.github.io/ja/post/2023/1688885165/filter_keywords.png&#34;
           loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;figcaption&gt;
      タイトルか概要がキーワードを含むものだけに絞れる
    &lt;/figcaption&gt;&lt;/figure&gt;

&lt;p&gt;「RSSの新着アイテムをキーワードで絞ってからPOSTしておいて」っていう簡単ぽく聞こえる作業が、ここまでの長文になってしまった。&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>物理マシンでUbuntu Serverのautoinstall</title>
      <link>https://nobuto-m.github.io/ja/post/2023/ubuntu-server-autoinstall-with-a-physical-machine/</link>
      <pubDate>Sun, 02 Jul 2023 16:29:52 +0900</pubDate>
      <guid>https://nobuto-m.github.io/ja/post/2023/ubuntu-server-autoinstall-with-a-physical-machine/</guid>
      <description>&lt;p&gt;Ubuntu Serverを自動インストールする方法については、Ubuntu Serverガイドにすでにちゃんとした記事がある。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://ubuntu.com/server/docs/install/autoinstall&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Automated Server installation&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://ubuntu.com/server/docs/install/autoinstall-quickstart&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Automated Server install quickstart&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://ubuntu.com/server/docs/install/autoinstall-reference&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Automated Server installer config file reference&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;あとは&lt;a href=&#34;https://gihyo.jp/admin/serial/01/ubuntu-recipe/0615&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;柴田さんのgihyo.jp記事&lt;/a&gt;もあるので日本語でも解説されている。&lt;/p&gt;
&lt;p&gt;Ubuntu Serverガイドにしたがって、自分用に最小のautoinstallファイルを作ってやってみた。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c&#34;&gt;#cloud-config&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;autoinstall&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;version&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;identity&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;hostname&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;ubuntu-server&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;username&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;ubuntu&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;# password=ubuntu&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;password&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;$6$exDY1mhS4KUYCE/2$zmn9ToZwTKLhCw.b4/b.ZRTIZM30JZ4QrOQ2aOXJ8yk96xpcCof0kxKwuX1kqLG/ygbJ1f8wxED22bTL4F46P0&amp;#34;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;ssh&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;install-server&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;yes&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;# https://launchpad.net/bugs/1974483&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;allow-pw&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;no&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;apt&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;geoip&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;false&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;kernel&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;flavor&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;generic &lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;# or hwe&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ドキュメントにあるように、&lt;code&gt;kvm&lt;/code&gt;コマンドと下記カーネルコマンドラインパラメーターを使うと完璧に動作する。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;-append &lt;span class=&#34;s1&#34;&gt;&amp;#39;autoinstall ds=nocloud-net;s=http://_gateway:3003/&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;けれども、カスタマイズしてない普通の22.04 LTSのISOだとうまくいかなくて、最初の言語選択の画面で止まってしまう。&lt;/p&gt;
&lt;p&gt;結局はすごく小さなところが問題で、&lt;a href=&#34;https://www.gnu.org/software/grub/manual/grub/grub.html#Simple-commands&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;セミコロンをエスケープしておかないと&lt;/a&gt;、autoinstallファイルを取得するためのURLが無視されて渡らない。これだけの話で1時間以上悩んだ。&lt;a href=&#34;https://discourse.ubuntu.com/t/automated-server-install-quickstart/16614/50&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;ドキュメントへのフィードバックはしたので&lt;/a&gt;、将来的に誰かの役に立てればと。&lt;/p&gt;


















&lt;figure  id=&#34;figure-grubの時はセミコロンのエスケープが必須&#34;&gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img alt=&#34;GRUBの時はセミコロンのエスケープが必須&#34;
           src=&#34;https://nobuto-m.github.io/ja/post/2023/ubuntu-server-autoinstall-with-a-physical-machine/featured.png&#34;
           loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;figcaption&gt;
      GRUBの時はセミコロンのエスケープが必須
    &lt;/figcaption&gt;&lt;/figure&gt;

</description>
    </item>
    
    <item>
      <title>Hugo snapが fatal: unable to find remote helper for &#39;https&#39; のエラーを出すようになった</title>
      <link>https://nobuto-m.github.io/ja/post/2023/1688220202/</link>
      <pubDate>Sat, 01 Jul 2023 23:03:22 +0900</pubDate>
      <guid>https://nobuto-m.github.io/ja/post/2023/1688220202/</guid>
      <description>&lt;p&gt;一個新規記事ファイルを作って、Hugoのプレビューを開こうとしたらエラーになる。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ hugo
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;go: github.com/wowchemy/wowchemy-hugo-themes/modules/wowchemy-plugin-netlify@v1.0.0: invalid version: git ls-remote -q origin in /tmp/hugo_cache_nobuto/modules/filecache/modules/pkg/mod/cache/vcs/0c88995f39c54fe356dd74460b6359b56b0fb376c52289c9656c86270b2c006d: &lt;span class=&#34;nb&#34;&gt;exit&lt;/span&gt; status 128:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	fatal: unable to find remote helper &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;https&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;go: github.com/wowchemy/wowchemy-hugo-themes/modules/wowchemy-plugin-netlify-cms@v1.0.0: invalid version: git ls-remote -q origin in /tmp/hugo_cache_nobuto/modules/filecache/modules/pkg/mod/cache/vcs/0c88995f39c54fe356dd74460b6359b56b0fb376c52289c9656c86270b2c006d: &lt;span class=&#34;nb&#34;&gt;exit&lt;/span&gt; status 128:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	fatal: unable to find remote helper &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;https&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;go: github.com/wowchemy/wowchemy-hugo-themes/modules/wowchemy-plugin-reveal@v1.0.0: invalid version: git ls-remote -q origin in /tmp/hugo_cache_nobuto/modules/filecache/modules/pkg/mod/cache/vcs/0c88995f39c54fe356dd74460b6359b56b0fb376c52289c9656c86270b2c006d: &lt;span class=&#34;nb&#34;&gt;exit&lt;/span&gt; status 128:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	fatal: unable to find remote helper &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;https&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;go: github.com/wowchemy/wowchemy-hugo-themes/modules/wowchemy/v5@v5.7.1-0.20230420205746-951c7b6f709d: invalid version: git ls-remote -q origin in /tmp/hugo_cache_nobuto/modules/filecache/modules/pkg/mod/cache/vcs/0c88995f39c54fe356dd74460b6359b56b0fb376c52289c9656c86270b2c006d: &lt;span class=&#34;nb&#34;&gt;exit&lt;/span&gt; status 128:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	fatal: unable to find remote helper &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;https&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;hugo: collected modules in &lt;span class=&#34;m&#34;&gt;897&lt;/span&gt; ms
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Total in &lt;span class=&#34;m&#34;&gt;906&lt;/span&gt; ms
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Error: failed to load modules: failed to download modules: failed to execute &lt;span class=&#34;s1&#34;&gt;&amp;#39;go [mod download]&amp;#39;&lt;/span&gt;: failed to execute binary &lt;span class=&#34;s2&#34;&gt;&amp;#34;go&amp;#34;&lt;/span&gt; with args &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;mod download&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;: go: github.com/wowchemy/wowchemy-hugo-themes/modules/wowchemy-plugin-netlify@v1.0.0: invalid version: git ls-remote -q origin in /tmp/hugo_cache_nobuto/modules/filecache/modules/pkg/mod/cache/vcs/0c88995f39c54fe356dd74460b6359b56b0fb376c52289c9656c86270b2c006d: &lt;span class=&#34;nb&#34;&gt;exit&lt;/span&gt; status 128:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	fatal: unable to find remote helper &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;https&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;go: github.com/wowchemy/wowchemy-hugo-themes/modules/wowchemy-plugin-netlify-cms@v1.0.0: invalid version: git ls-remote -q origin in /tmp/hugo_cache_nobuto/modules/filecache/modules/pkg/mod/cache/vcs/0c88995f39c54fe356dd74460b6359b56b0fb376c52289c9656c86270b2c006d: &lt;span class=&#34;nb&#34;&gt;exit&lt;/span&gt; status 128:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	fatal: unable to find remote helper &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;https&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;go: github.com/wowchemy/wowchemy-hugo-themes/modules/wowchemy-plugin-reveal@v1.0.0: invalid version: git ls-remote -q origin in /tmp/hugo_cache_nobuto/modules/filecache/modules/pkg/mod/cache/vcs/0c88995f39c54fe356dd74460b6359b56b0fb376c52289c9656c86270b2c006d: &lt;span class=&#34;nb&#34;&gt;exit&lt;/span&gt; status 128:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	fatal: unable to find remote helper &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;https&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;go: github.com/wowchemy/wowchemy-hugo-themes/modules/wowchemy/v5@v5.7.1-0.20230420205746-951c7b6f709d: invalid version: git ls-remote -q origin in /tmp/hugo_cache_nobuto/modules/filecache/modules/pkg/mod/cache/vcs/0c88995f39c54fe356dd74460b6359b56b0fb376c52289c9656c86270b2c006d: &lt;span class=&#34;nb&#34;&gt;exit&lt;/span&gt; status 128:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	fatal: unable to find remote helper &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;https&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; *errors.errorString
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;snap版特有の問題っぽかったので、一応Hugoプロジェクトにバグ報告。&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/gohugoio/hugo/issues/11195&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;https://github.com/gohugoio/hugo/issues/11195&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;なぜsnap版なのにHugoプロジェクトかというと、&lt;a href=&#34;https://github.com/gohugoio/hugo/blob/master/snap/snapcraft.yaml&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;snapcraft.yaml&lt;/a&gt;はHugoプロジェクト側でメンテされていて、これはこれですごくありがたい。&lt;/p&gt;
&lt;p&gt;現状の回避策は、こないだまで動いていたrevisionを指定してインストールする形。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ sudo snap refresh --channel extended/stable --revision &lt;span class=&#34;m&#34;&gt;16307&lt;/span&gt; hugo
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;del&gt;パッと見はなんで名前解決がブロックされるのかよくわからず&lt;/del&gt;。&lt;code&gt;/snap/hugo/{16307,16457}&lt;/code&gt;を比べてもバイナリ以外大きな差分はないし、リビジョンごとに生成されるAppArmorのプロファイルも特に差分は見えない。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;追記:&lt;/strong&gt; AppArmor上は新しいリビジョンでだけ2つ追加でブロックされたログが出るので名前解決かと思ったけど、名前解決まではできてるみたい。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;pid 95517&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; 15:50:23.307119 openat&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;AT_FDCWD, &lt;span class=&#34;s2&#34;&gt;&amp;#34;/snap/core20/current/lib/x86_64-linux-gnu/libresolv.so.2&amp;#34;&lt;/span&gt;, O_RDONLY&lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;O_CLOEXEC&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; -1 EACCES &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;Permission denied&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;pid 95517&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; 15:50:23.310260 openat&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;AT_FDCWD, &lt;span class=&#34;s2&#34;&gt;&amp;#34;/snap/core20/current/lib/x86_64-linux-gnu/libnss_dns.so.2&amp;#34;&lt;/span&gt;, O_RDONLY&lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;O_CLOEXEC&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; -1 EACCES &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;Permission denied&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;pid 95517&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; 15:50:23.311317 connect&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;3, &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;sa_family&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;AF_INET, &lt;span class=&#34;nv&#34;&gt;sin_port&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;htons&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;53&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;, &lt;span class=&#34;nv&#34;&gt;sin_addr&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;inet_addr&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;127.0.0.53&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)}&lt;/span&gt;, 16&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;pid 95517&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; 15:50:23.313023 connect&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;3, &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;sa_family&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;AF_INET, &lt;span class=&#34;nv&#34;&gt;sin_port&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;htons&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;443&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;, &lt;span class=&#34;nv&#34;&gt;sin_addr&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;inet_addr&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;20.27.177.113&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)}&lt;/span&gt;, 16&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; -1 EINPROGRESS &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;Operation now in progress&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;追記2:&lt;/strong&gt; 結局はAppArmorではなくて、Hugo本体のセキュリティ機構だった。snapのビルド時に&lt;code&gt;sed&lt;/code&gt;を走らせてsnap用の設定を入れてるけど、&lt;a href=&#34;https://github.com/gohugoio/hugo/commit/7f698c89346acb5e5116736d25325a046652ba81#diff-eb691e23a4a8e810b5e9237690d327af133c5dde0a29dec2e1beed426b3d35dfL45-R45&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;本体側で加えた変更&lt;/a&gt;が&lt;a href=&#34;https://github.com/gohugoio/hugo/pull/11198/files&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;snapcraft.yamlには反映されていなかった&lt;/a&gt;。さらに進めて最終的には&lt;a href=&#34;https://github.com/gohugoio/hugo/pull/11200/files&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;sedを使わなくなって&lt;/a&gt;一件落着。素晴らしい。&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>NucBox3でTrueNAS SCALEを試してみた</title>
      <link>https://nobuto-m.github.io/ja/post/2023/1687011989/</link>
      <pubDate>Sat, 17 Jun 2023 23:26:29 +0900</pubDate>
      <guid>https://nobuto-m.github.io/ja/post/2023/1687011989/</guid>
      <description>&lt;p&gt;&lt;a href=&#34;https://www.gmktec.com/products/nucbox-3-mini-pc-windows-11-home-os&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;NucBox3&lt;/a&gt;はファンレスで安いところが良さそうだと思って、Raspberry Piを置き換える用途でしばらく前に買ってあった。とにかく値段が安い（今日時点で実売12,383円）。それとは別に流行りのIntel N100と2.5G NICが搭載されてるもっと高めのものを家庭用NASを置き換える用途で買いたいなぁと思ってて、予行演習のためにまずはIntel Celeron J4125と1G NICのNucBox3に&lt;a href=&#34;https://www.truenas.com/truenas-scale/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;TrueNAS SCALE&lt;/a&gt;をインストールしてみた。&lt;/p&gt;
&lt;p&gt;まず、NucBox3は最大限にコスパ重視って感じ。噂に聞く、全くuniqueではないUUID &lt;code&gt;03000200-0400-0500-0006-000700080009&lt;/code&gt;は健在。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ubuntu
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    description: Desktop Computer
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    product: NucBox3
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    vendor: GMKtec
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    version: Default string
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    serial: Default string
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    width: &lt;span class=&#34;m&#34;&gt;64&lt;/span&gt; bits
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    capabilities: smbios-3.2.0 dmi-3.2.0 smp vsyscall32
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    configuration: &lt;span class=&#34;nv&#34;&gt;boot&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;normal &lt;span class=&#34;nv&#34;&gt;chassis&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;desktop &lt;span class=&#34;nv&#34;&gt;family&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;Default string &lt;span class=&#34;nv&#34;&gt;uuid&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;03000200-0400-0500-0006-000700080009
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;DDR4の8GBメモリもvendor &lt;code&gt;ABCD&lt;/code&gt;のproduct &lt;code&gt;123456789012345678&lt;/code&gt;、シリアル番号は&lt;code&gt;1234&lt;/code&gt;。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;     *-memory
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          description: System Memory
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          physical id: &lt;span class=&#34;m&#34;&gt;23&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          slot: System board or motherboard
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          size: 8GiB
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        *-bank:0
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;             description: DIMM DDR4 Synchronous &lt;span class=&#34;m&#34;&gt;2400&lt;/span&gt; MHz &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;0.4 ns&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;             product: &lt;span class=&#34;m&#34;&gt;123456789012345678&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;             vendor: ABCD
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;             physical id: &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;             serial: &lt;span class=&#34;m&#34;&gt;1234&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;             slot: A1_DIMM0
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;             size: 8GiB
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;             width: &lt;span class=&#34;m&#34;&gt;64&lt;/span&gt; bits
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;             clock: 2400MHz &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;0.4ns&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;全部こんな感じなんでしょと思いきや、M.2 SATAの128GB SSDは製品名は入ってなかったけどシリアル番号っぽいものは入ってる。ちなみに簡易ベンチマークはこんな感じ。&lt;/p&gt;


















&lt;figure  id=&#34;figure-ssdはそれなり可もなく不可もなく&#34;&gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img alt=&#34;SSDはそれなり。可もなく不可もなく。&#34;
           src=&#34;https://nobuto-m.github.io/ja/post/2023/1687011989/gnome-disks.png&#34;
           loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;figcaption&gt;
      SSDはそれなり。可もなく不可もなく。
    &lt;/figcaption&gt;&lt;/figure&gt;



















&lt;figure  id=&#34;figure-lstopoの出力&#34;&gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img alt=&#34;`lstopo`の出力&#34;
           src=&#34;https://nobuto-m.github.io/ja/post/2023/1687011989/lstopo.png&#34;
           loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;figcaption&gt;
      &lt;code&gt;lstopo&lt;/code&gt;の出力
    &lt;/figcaption&gt;&lt;/figure&gt;

&lt;p&gt;さくっと情報を確認したので、こっからはTrueNAS SCALEのインストールテスト。&lt;a href=&#34;https://www.truenas.com/compare/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;SCALEの方はDebianベース&lt;/a&gt;なのがいいなと思って選んだんですが、インストーラーもアプライアンスとしてカスタマイズされているので特に迷うところはなし。&lt;/p&gt;


















&lt;figure  &gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img alt=&#34;&#34;
           src=&#34;https://nobuto-m.github.io/ja/post/2023/1687011989/featured.png&#34;
           loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;/figure&gt;

&lt;p&gt;Shellアクセスもあるけども、&lt;a href=&#34;https://www.truenas.com/community/threads/no-apt-after-update-to-release.99579/#post-686801&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;アプライアンスとして使われるのを意図しているので&lt;/a&gt;aptやdpkgコマンドはPermission deniedが返る。どんな方法で制限してるんだろうと思ったけど、executableフラグを落としてあるだけだった。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;admin@truenas&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;~&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;$ find /usr/bin ! -executable
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;/usr/bin/docker-compose
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;/usr/bin/dpkg
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;/usr/bin/apt-get
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;/usr/bin/apt-extracttemplates
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;/usr/bin/apt-mark
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;/usr/bin/apt-sortpkgs
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;/usr/bin/apt-key
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;/usr/bin/apt
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;/usr/bin/apt-cache
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;/usr/bin/apt-ftparchive
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;/usr/bin/apt-config
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;/usr/bin/apt-cdrom
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;まったくもって推奨されてないけど、ちょっとiperfでも実行してみるかと思って一時的にaptを使えるようにしたけど、iperf3はデフォルトで入っているというオチでした。TrueNAS SCALEのインストールしたバージョン&lt;code&gt;“Bluefin” 22.12&lt;/code&gt;はDebian 11 bullseyeベースなんだけど、アプライアンスなので結構手が入ってる。opensslのバージョンとかも。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;admin@truenas&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;~&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;$ apt policy openssl
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;openssl:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  Installed: 1.1.1t-001+deb11u4
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  Candidate: 1.1.1n-0+deb11u4
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  Version table:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; *** 1.1.1t-001+deb11u4 &lt;span class=&#34;m&#34;&gt;100&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;m&#34;&gt;100&lt;/span&gt; /var/lib/dpkg/status
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;     1.1.1n-0+deb11u4 &lt;span class=&#34;m&#34;&gt;1000&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;m&#34;&gt;500&lt;/span&gt; http://apt.tn.ixsystems.com/apt-direct/bluefin/22.12.3/debian-security bullseye-security/main amd64 Packages
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;     1.1.1n-0+deb11u3 &lt;span class=&#34;m&#34;&gt;900&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;m&#34;&gt;900&lt;/span&gt; http://apt.tn.ixsystems.com/apt-direct/bluefin/22.12.3/debian bullseye/main amd64 Packages
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;NUCの形状からしてNASとして使う時のデータ置き場はUSB接続の外部HDDになる予定で、USB接続は推奨はされていないもののZFS用のデバイスとしてちゃんと使える。&lt;/p&gt;


















&lt;figure  id=&#34;figure-usbストレージはnot-recommendedでwarning扱い&#34;&gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img alt=&#34;USBストレージはnot recommendedでwarning扱い&#34;
           src=&#34;https://nobuto-m.github.io/ja/post/2023/1687011989/usb_not_recommended.png&#34;
           loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;figcaption&gt;
      USBストレージはnot recommendedでwarning扱い
    &lt;/figcaption&gt;&lt;/figure&gt;

&lt;p&gt;で、ここまでいろいろ見てきて、TrueNAS SCALEはうちの家庭用NASとしてピッタリじゃね、と。最初はDebianベースだからっていう理由で触り始めたけど、NASとしてこれこそが求めていたものでは。&lt;/p&gt;
&lt;p&gt;ただ、&lt;a href=&#34;https://www.truenas.com/apps/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;TrueNAS SCALEのアプリストア&lt;/a&gt;を使う時に、SCALE自体がインストールされているドライブとは別のドライブを必要とする。ので、SCALE自体を内蔵SSDに入れるとして、アプリ（Kubernetes上で動く)が外付けHDDで動作するのもなんだかなと。一般にNASにアプリストアってあるあるだけど、んーでも結局そんなに使うことになるのかしら。将来のために、デフォルトで全領域を使う&lt;code&gt;boot-pool&lt;/code&gt;を何とかサイズ指定したり後から縮小したりできるかを調べることからかな、と。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ lsblk -f
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;NAME     FSTYPE     FSVER LABEL     UUID                                 FSAVAIL FSUSE% MOUNTPOINT
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sda
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;├─sda1
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;├─sda2   vfat       FAT32 EFI       2D4A-EDB1
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;├─sda3   zfs_member 5000  boot-pool 572534033895956289
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;└─sda4
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  └─sda4 swap       1               9a1c0394-e549-4ef5-a15b-dc69f9a39e41                [SWAP]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sdb
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;├─sdb1
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;└─sdb2   zfs_member 5000  external  9260921456295045295
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Intel Celeron J4125と1G NICでテストしててさくさく動いてしまうので、N100と2.5Gとか要らないような気がしてくる。現状で十分というかアプリ、コンテナ、VMをそんなに動かすのかなと。ちょっと悩んだ後に、安いのは正義ということでNucBox3をまずはもう一個買いました。ので、これでしばらく運用してみて本当に必要だったらスペックを考え直すことにする。&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>ミニミニ手術を受けた</title>
      <link>https://nobuto-m.github.io/ja/post/2023/1686462501/</link>
      <pubDate>Sun, 11 Jun 2023 14:48:21 +0900</pubDate>
      <guid>https://nobuto-m.github.io/ja/post/2023/1686462501/</guid>
      <description>&lt;p&gt;手術といっても滞在時間は1時間もいかないぐらい。ずっと前（たぶん高校生ぐらい）から耳の上にホクロが変化してBB弾がくっついたぐらいの大きさの出っ張りがあって、今までは髪切ったときに丸見えになるぐらいで生活に支障はなかった。ただ、こないだから眼鏡をかけるようになったら眼鏡のツルと干渉するので思い切って取ってみるか、と。&lt;/p&gt;
&lt;p&gt;診療明細書上は「皮膚、皮下腫瘍摘出術（露出部）（直径2cm未満）」という扱いで健康保険適用対象、当日の支払額は合計で8,420円。&lt;/p&gt;
&lt;p&gt;病院によっては当日に取ってくれるところもあるみたいだけど、一番近そうなところの院長はGoogleマップのレビュー上でずーっと患者とバトルしてて不安だったので、妻が行ったことのある皮膚科に行った。そこもそこで保険適用外のいろんな注射がメニューにあるところで不安だったけど、結果的には説明もしっかりしてくれてよかった。&lt;/p&gt;
&lt;p&gt;最初の日は写真を撮って説明するだけですぐ終わり、手術当日までに周りの髪の毛をジョリジョリしてきてください、次の日に消毒のために来てもらいます、その後は軟膏塗ってテープ自分で貼ってもらって1週間後に抜糸です、と。なるほど、手術後に貼るテープみたいなのを買っとかなきゃと物色して、2種類の太さと一応防水のも買ってみた。&lt;/p&gt;


















&lt;figure  id=&#34;figure-初めてなのでいろいろ買ってみた&#34;&gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img alt=&#34;初めてなのでいろいろ買ってみた&#34; srcset=&#34;
               /ja/post/2023/1686462501/featured_hud45291a1bf35d5486565e3d34453bfb5_325625_0a768b7f360063b1c947200ebcd091a3.webp 400w,
               /ja/post/2023/1686462501/featured_hud45291a1bf35d5486565e3d34453bfb5_325625_8e1e9214373ebf25e8c86eadfdfbe634.webp 760w,
               /ja/post/2023/1686462501/featured_hud45291a1bf35d5486565e3d34453bfb5_325625_1200x1200_fit_q75_h2_lanczos.webp 1200w&#34;
               src=&#34;https://nobuto-m.github.io/ja/post/2023/1686462501/featured_hud45291a1bf35d5486565e3d34453bfb5_325625_0a768b7f360063b1c947200ebcd091a3.webp&#34;
               width=&#34;721&#34;
               height=&#34;760&#34;
               loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;figcaption&gt;
      初めてなのでいろいろ買ってみた
    &lt;/figcaption&gt;&lt;/figure&gt;

&lt;p&gt;で、当日は麻酔注射を打たれて、その注射自体がちょっと痛いぐらいで手術中の痛みは無し、縫ってる時の糸の振動が伝わるぐらい。結果5針縫ったみたい。次の日消毒に行った時に、どんなテープ貼られるのかな、買ったテープはちゃんと合ってるのかなと思いながら診察受けてて、先生も耳の周りの曲線で貼るの苦労してるなと思って帰って来たら絆創膏が貼ってあった。はい、もったいないので買ったテープは積極的に使っていこうと思います。&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>XG-100NEの新ファームウェアのテストが結局できなかった話</title>
      <link>https://nobuto-m.github.io/ja/post/2023/1685705588/</link>
      <pubDate>Fri, 02 Jun 2023 20:33:08 +0900</pubDate>
      <guid>https://nobuto-m.github.io/ja/post/2023/1685705588/</guid>
      <description>&lt;p&gt;&lt;a href=&#34;https://nobuto-m.github.io/ja/post/2023/1683091989/&#34;&gt;光クロスのレンタルルーターであるXG-100NEの動作に耐えられなくて解約申請をして&lt;/a&gt;、そしたらその後にファームウェアのアップデートがリリースされた。返却前の週末に今使ってるルーターからレンタルルーターに切り戻して、まだ不具合が出るか出ないかだけでも確認して気持ちをはっきりさせたかったけど、結局単純な理由で確認できなかった。&lt;/p&gt;
&lt;p&gt;手順としては単純で、&lt;a href=&#34;https://web116.jp/ced/support/version/broadband/xg_100ne/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;ダウンロードページ&lt;/a&gt;からファームウェア&lt;code&gt;ver.03.00.0002&lt;/code&gt;を落としてルーターのWebUIから適用するだけ。で、そのまま使えばテストできたのに、何か魔が差したんですよね。不具合と言うからにはちゃんと初期状態で再現できるか確認しないと意味がないかな、と。そう思ったので、まずは使う前に工場出荷時の状態に戻すみたいな初期化ボタンを押したんです。で、再起動してIPv6はつながってIPv4がつながらなくなったときに、あっ、と。&lt;/p&gt;
&lt;p&gt;XG-100NEはIPv4接続のためのMAP-Eバンドルというソフトウェアを&lt;a href=&#34;https://business.ntt-east.co.jp/service/joint/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;フレッツ・ジョイント&lt;/a&gt;の仕組みを通じて受け取って初めてMAP-Eで通信できるはずなので、初期化したことでこのすでに受け取り済みのソフトウェアも消えてしまった。で、解約申請を出してこのソフトウェア配信もちょうど止まったところだったので、このソフトウェアが再度ダウンロードされることはなく。はい、ここで手詰まり、テストできず。初期化しよう、とかさえ思わなければ。&lt;/p&gt;


















&lt;figure  id=&#34;figure-httpnttsetup8888tにアクセスしてあっと思った瞬間何もない&#34;&gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img alt=&#34;`http://ntt.setup:8888/t`にアクセスして、あっ、と思った瞬間。何もない。&#34;
           src=&#34;https://nobuto-m.github.io/ja/post/2023/1685705588/featured.png&#34;
           loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;figcaption&gt;
      &lt;code&gt;http://ntt.setup:8888/t&lt;/code&gt;にアクセスして、あっ、と思った瞬間。何もない。
    &lt;/figcaption&gt;&lt;/figure&gt;

&lt;p&gt;おとなしくすぐに梱包して期限内にレンタルルーターを返送しました。これで我が家でXG-100NEについて脳みそを使う時間を割くのは完全に終了です。&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>子どもがルイージマンション3をクリアした</title>
      <link>https://nobuto-m.github.io/ja/post/2023/1685275311/</link>
      <pubDate>Sun, 28 May 2023 21:01:51 +0900</pubDate>
      <guid>https://nobuto-m.github.io/ja/post/2023/1685275311/</guid>
      <description>&lt;p&gt;子どもが&lt;a href=&#34;https://store-jp.nintendo.com/list/software/70010000001621.html&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;ルイージマンション3&lt;/a&gt;をクリアした。祖父母に買ってもらって子どもメインで進めてて、まだ字が読めないなりに結構プレイできていた。所々こっちで調べてあげたり協力プレイで手伝ったりしてあげた感じ。&lt;/p&gt;

&lt;div style=&#34;position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;&#34;&gt;
  &lt;iframe src=&#34;https://www.youtube.com/embed/chYP72Z4juQ&#34; style=&#34;position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;&#34; allowfullscreen title=&#34;YouTube Video&#34;&gt;&lt;/iframe&gt;
&lt;/div&gt;

&lt;p&gt;謎解き要素も少しあって、わかんないときは本当に調べないとわかんなくて子どもには難しそうだったけども、まあでもほどよい感じ。最初の段階で、地下2階から15階まであることがエレベーターのボタン配置で明示されてて、進捗がわかりやすくてよかった。「今日は14階をクリアする！」みたいに意気込んでいたので。おかげで十の位の読み上げ（じゅうご、とか）が完璧になった。&lt;/p&gt;
&lt;p&gt;4-5歳の子どもがいままである程度ちゃんとプレイできて、ハマってきたのは何本かあって、ルイージマンション3も何回もやるリストに入ったみたい。&lt;/p&gt;
&lt;h4 id=&#34;good-job&#34;&gt;Good Job!&lt;/h4&gt;
&lt;p&gt;
&lt;div style=&#34;position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;&#34;&gt;
  &lt;iframe src=&#34;https://www.youtube.com/embed/9fGZwm8Z9XI&#34; style=&#34;position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;&#34; allowfullscreen title=&#34;YouTube Video&#34;&gt;&lt;/iframe&gt;
&lt;/div&gt;

これは大人がやっても名作だと思ったけど、子どもはずーっとやってた。&lt;/p&gt;
&lt;h4 id=&#34;untitled-goose-game&#34;&gt;Untitled Goose Game&lt;/h4&gt;
&lt;p&gt;
&lt;div style=&#34;position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;&#34;&gt;
  &lt;iframe src=&#34;https://www.youtube.com/embed/rRyW-0S4Lbc&#34; style=&#34;position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;&#34; allowfullscreen title=&#34;YouTube Video&#34;&gt;&lt;/iframe&gt;
&lt;/div&gt;

出張中にSteamで一人でキーボードでやってたときは難易度が高くて最初は楽しさがわからなかった。これは子どもは「鳥さんのゲーム」って読んでて、協力プレイでワイワイやる感じが盛り上がる。&lt;/p&gt;
&lt;h4 id=&#34;ヨッシークラフトワールド&#34;&gt;ヨッシークラフトワールド&lt;/h4&gt;
&lt;p&gt;
&lt;div style=&#34;position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;&#34;&gt;
  &lt;iframe src=&#34;https://www.youtube.com/embed/WPrrY7mgPQM&#34; style=&#34;position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;&#34; allowfullscreen title=&#34;YouTube Video&#34;&gt;&lt;/iframe&gt;
&lt;/div&gt;

これは体験版で最初のステージだけできるようになってて、子どもがそのステージだけをずっと繰り返してやってたので、折をみて購入。無限にパタパタ空中を浮いていられるモードにするのが子ども向きで重要。クリアした後の追加ステージは全部完走まではやりきれず。&lt;/p&gt;
&lt;h4 id=&#34;astros-playroom&#34;&gt;ASTRO&amp;rsquo;s PLAYROOM&lt;/h4&gt;
&lt;p&gt;
&lt;div style=&#34;position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;&#34;&gt;
  &lt;iframe src=&#34;https://www.youtube.com/embed/ROI9FII2kyE&#34; style=&#34;position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;&#34; allowfullscreen title=&#34;YouTube Video&#34;&gt;&lt;/iframe&gt;
&lt;/div&gt;

これはPS5に最初から入っているデモ用ゲームだけど、デモって感じの分量ではないしすごく作り込まれてる。子どもは「ロボットのゲーム」って読んでる。過去のSony製品がアイテムとして登場するんだけど、祖父母宅に泊まりに行ったときにPS2の本体がたまたまあって「これロボットのゲームで見たやつ！」って興奮してた。&lt;/p&gt;
&lt;h4 id=&#34;knack-2&#34;&gt;KNACK 2&lt;/h4&gt;
&lt;p&gt;
&lt;div style=&#34;position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;&#34;&gt;
  &lt;iframe src=&#34;https://www.youtube.com/embed/7iV6mnIUAIA&#34; style=&#34;position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;&#34; allowfullscreen title=&#34;YouTube Video&#34;&gt;&lt;/iframe&gt;
&lt;/div&gt;

これは夫婦で何か協力プレイやりたいなと思って過去に買ってあったやつだけど、結局やらずに子どもとやることに。同じようなステージがだらだら続くふしがあるので、大人だとそんなにハマらないかもしれないが子どもは「コナックのゲームやる！」ってハマってる（ナックというのは発音しにくいみたい）。&lt;/p&gt;
&lt;h4 id=&#34;まとめ&#34;&gt;まとめ&lt;/h4&gt;
&lt;p&gt;やっぱり全体的に、右スティックを使った視点移動がないゲームであることが重要な気がする。ポケモンのアルセウスとかスカーレット・バイオレットとかだとどうしても視点移動が必須でそうなるとあんまりストーリーが進められていない感じ。&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Windows用に使ってるSSD-CK500N3G2/Nもテストしてみた</title>
      <link>https://nobuto-m.github.io/ja/post/2023/1684645587/</link>
      <pubDate>Sat, 27 May 2023 16:31:14 +0900</pubDate>
      <guid>https://nobuto-m.github.io/ja/post/2023/1684645587/</guid>
      <description>&lt;p&gt;基本はノートPCと検証機のどっちともUbuntuを常用してて、ごくごくたまーにWindowsが必要になることもあるので、&lt;a href=&#34;https://rufus.ie/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Rufus&lt;/a&gt;で外付けSSDにWindowsをインストールしてある。で、この用途で使ってる&lt;a href=&#34;https://www.buffalo.jp/product/detail/ssd-ck500n3g2_n.html&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;KIOXIA EXCERIA G2 SSD-CK500N3G2/N&lt;/a&gt;は値段で選んだので特に性能は気にしたことはなかったので、この機会に測ってみた。&lt;/p&gt;


















&lt;figure  id=&#34;figure-キャッシュ溢れみたいな変な落ち込みがない&#34;&gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img alt=&#34;キャッシュ溢れみたいな変な落ち込みがない&#34;
           src=&#34;https://nobuto-m.github.io/ja/post/2023/1684645587/KIOXIA-EXCERIA_G2_SSD.png&#34;
           loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;figcaption&gt;
      キャッシュ溢れみたいな変な落ち込みがない
    &lt;/figcaption&gt;&lt;/figure&gt;

&lt;p&gt;シーケンシャルアクセスはNVMeのSSDをUSBにケースで変換して接続していることを考慮してまったく文句なし。最初は測定しようと思ったときに、あーWindowsが入っちゃってるから書き込みテストできないじゃん、書き込みテストした後にもう一回Windowsインストールしてもいいけど面倒だなと思ったところにGNOME Disksの説明を読んで驚いた。&lt;/p&gt;


















&lt;figure  id=&#34;figure-書き込みテストはすでにデータがあるドライブにも実行可&#34;&gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img alt=&#34;書き込みテストはすでにデータがあるドライブにも実行可&#34;
           src=&#34;https://nobuto-m.github.io/ja/post/2023/1684645587/featured.png&#34;
           loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;figcaption&gt;
      書き込みテストはすでにデータがあるドライブにも実行可
    &lt;/figcaption&gt;&lt;/figure&gt;

&lt;blockquote&gt;
&lt;p&gt;Benchmarking the write-rate of a disk requires exclusive access to the
disk (e.g. the disk or its partitions cannot be mounted or in use) and
involves reading data and then writing it back. As a result, the
contents of the disk is not changed.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;GNOME Disksだけが独占的にドライブにアクセスしている前提で、読んだデータをそのまま書き直すのでベンチマークが完走する限りはデータ破壊がないので、確かに頭いいなぁと。読んだデータしか使えないので、しっかりとランダムなデータを生成して書き込むタイプのベンチマークに比べると色んなレイヤーの影響で変に良い値が出てしまう懸念があるけどまあ簡易ベンチマークとしては本当に頭がいい。&lt;/p&gt;
&lt;p&gt;あとはUSB経由でつないでいても、ちゃんと色々な値が取れてすごいなぁと。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ sudo smartctl -a /dev/sda
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;smartctl 7.2 2020-12-30 r5155 [x86_64-linux-6.1.0-1012-oem] (local build)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Copyright (C) 2002-20, Bruce Allen, Christian Franke, www.smartmontools.org
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;=== START OF INFORMATION SECTION ===
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Model Number:                       KIOXIA-EXCERIA G2 SSD
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Serial Number:                      XYZ
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Firmware Version:                   ECFA17.1
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;PCI Vendor/Subsystem ID:            0x1e0f
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;IEEE OUI Identifier:                0x8ce38e
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Total NVM Capacity:                 500,107,862,016 [500 GB]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Unallocated NVM Capacity:           0
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Controller ID:                      1
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;NVMe Version:                       1.3
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Number of Namespaces:               1
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Namespace 1 Size/Capacity:          500,107,862,016 [500 GB]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Namespace 1 Formatted LBA Size:     512
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Namespace 1 IEEE EUI-64:            8ce38e 0500bbcc25
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Local Time is:                      Sun May 21 14:06:49 2023 JST
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Firmware Updates (0x12):            1 Slot, no Reset required
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Optional Admin Commands (0x0017):   Security Format Frmw_DL Self_Test
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Optional NVM Commands (0x005f):     Comp Wr_Unc DS_Mngmt Wr_Zero Sav/Sel_Feat Timestmp
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Log Page Attributes (0x0a):         Cmd_Eff_Lg Telmtry_Lg
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Maximum Data Transfer Size:         512 Pages
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Warning  Comp. Temp. Threshold:     72 Celsius
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Critical Comp. Temp. Threshold:     90 Celsius
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Supported Power States
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;St Op     Max   Active     Idle   RL RT WL WT  Ent_Lat  Ex_Lat
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; 0 +     7.69W       -        -    0  0  0  0        1       1
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; 1 +     6.18W       -        -    1  1  1  1        1       1
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; 2 +     5.42W       -        -    2  2  2  2        1       1
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; 3 -   0.0500W       -        -    3  3  3  3     7000    5000
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; 4 -   0.0050W       -        -    4  4  4  4    13000   36000
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Supported LBA Sizes (NSID 0x1)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Id Fmt  Data  Metadt  Rel_Perf
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; 0 +     512       0         2
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; 1 -    4096       0         1
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;=== START OF SMART DATA SECTION ===
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;SMART overall-health self-assessment test result: PASSED
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;SMART/Health Information (NVMe Log 0x02)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Critical Warning:                   0x00
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Temperature:                        34 Celsius
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Available Spare:                    100%
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Available Spare Threshold:          5%
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Percentage Used:                    0%
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Data Units Read:                    337,687 [172 GB]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Data Units Written:                 314,483 [161 GB]
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Host Read Commands:                 12,348,912
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Host Write Commands:                13,616,612
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Controller Busy Time:               17
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Power Cycles:                       26
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Power On Hours:                     10
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Unsafe Shutdowns:                   24
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Media and Data Integrity Errors:    0
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Error Information Log Entries:      0
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Warning  Comp. Temperature Time:    0
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Critical Comp. Temperature Time:    0
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Warning: NVMe Get Log truncated to 0x200 bytes, 0x200 bytes zero filled
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Error Information (NVMe Log 0x01, 16 of 63 entries)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;No Errors Logged
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
    </item>
    
    <item>
      <title>ネットワーク配線の整理をした</title>
      <link>https://nobuto-m.github.io/ja/post/2023/1684594567/</link>
      <pubDate>Sat, 20 May 2023 23:56:07 +0900</pubDate>
      <guid>https://nobuto-m.github.io/ja/post/2023/1684594567/</guid>
      <description>&lt;p&gt;ONU、ルーターなどのネットワーク機器はクローゼットというか物置きというか、というところに置いてあるのだが、そのままだとケーブル類がぐちゃぐちゃになってしまうので整理してみた。本格的な19インチラックは導入せず、あくまで家庭用っぽくする方針で。&lt;/p&gt;


















&lt;figure  id=&#34;figure-整理前&#34;&gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img alt=&#34;整理前&#34; srcset=&#34;
               /ja/post/2023/1684594567/before_hu793588ecaae455bc464a46fed24374d8_186525_15e496d93fd70a039026ece45fe86a0a.webp 400w,
               /ja/post/2023/1684594567/before_hu793588ecaae455bc464a46fed24374d8_186525_63258b9a6865249dfba7ae87eca0e552.webp 760w,
               /ja/post/2023/1684594567/before_hu793588ecaae455bc464a46fed24374d8_186525_1200x1200_fit_q75_h2_lanczos.webp 1200w&#34;
               src=&#34;https://nobuto-m.github.io/ja/post/2023/1684594567/before_hu793588ecaae455bc464a46fed24374d8_186525_15e496d93fd70a039026ece45fe86a0a.webp&#34;
               width=&#34;570&#34;
               height=&#34;760&#34;
               loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;figcaption&gt;
      整理前
    &lt;/figcaption&gt;&lt;/figure&gt;

&lt;p&gt;3月に複合機を買ったときに同時にIKEAのテーブルを買っておいて、テーブルの上を複合機、下をネットワーク機器とまずは空間を分けておいた。必要になった段階でIKEAのテーブルを&lt;a href=&#34;https://wiki.eth0.nl/index.php/LackRack&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&amp;ldquo;LackRack&amp;rdquo;&lt;/a&gt;として使って1Uだけ使うつもりだった。で、ルーターを乗せるためだけに棚板の値段を調べたりして、結構高いななんて思いながら4月に買って最上段に取り付けて完成。とはならずに、棚板の落下防止の返し部分があることで、ルーターが入らなかった。毎回ネジを緩めたりすれば出し入れできるけれどもそれは果たして家庭用なのかなと。&lt;/p&gt;
&lt;p&gt;結局はルーター用の棚板を2段目にして空間を確保し、空いた一段目をそのままにしておくのはあれなので、特に必要のなかったケーブルオーガナイザーも買った。圧迫感を与えないように白色で探したので、配線が丸見えになる魚の骨タイプしかなかった。&lt;/p&gt;


















&lt;figure  id=&#34;figure-整理後&#34;&gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img alt=&#34;整理後&#34; srcset=&#34;
               /ja/post/2023/1684594567/featured_hu4f56622101efebae6f42aba9f612c3c5_184446_a112631759019ef866f2060c66814af1.webp 400w,
               /ja/post/2023/1684594567/featured_hu4f56622101efebae6f42aba9f612c3c5_184446_3d97fe7ea1585f5d924d73f9db7c1b5c.webp 760w,
               /ja/post/2023/1684594567/featured_hu4f56622101efebae6f42aba9f612c3c5_184446_1200x1200_fit_q75_h2_lanczos.webp 1200w&#34;
               src=&#34;https://nobuto-m.github.io/ja/post/2023/1684594567/featured_hu4f56622101efebae6f42aba9f612c3c5_184446_a112631759019ef866f2060c66814af1.webp&#34;
               width=&#34;571&#34;
               height=&#34;760&#34;
               loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;figcaption&gt;
      整理後
    &lt;/figcaption&gt;&lt;/figure&gt;

&lt;p&gt;出来栄えとしては決して美しくはないけれども、当初の目的である床部分から配線を持ち上げる、ということは達成したのでよし。LackRackを初めてやってみた感想としては1U以上はやっぱり普通にメタルラック買った方がいいんじゃないでしょうか。使ったネジはM6の六角フランジタッピング。当然のことながらIKEAのテーブルは穴を開けられることを想定してないし、チップ材なのでドリルで穴開けると手応えなかったりネジ打ち込んでも最後の方空転したりする箇所がちらほらあるので。&lt;/p&gt;


















&lt;figure  id=&#34;figure-ドリルで下穴も開けた&#34;&gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img alt=&#34;ドリルで下穴も開けた&#34; srcset=&#34;
               /ja/post/2023/1684594567/screw_hole_hu4414aed6e4a1b01b5462ef433bcd97e9_78980_5dc51dc947b981bfb787679e5c6fa4be.webp 400w,
               /ja/post/2023/1684594567/screw_hole_hu4414aed6e4a1b01b5462ef433bcd97e9_78980_9c90258582ae4c793032fd4e23899b88.webp 760w,
               /ja/post/2023/1684594567/screw_hole_hu4414aed6e4a1b01b5462ef433bcd97e9_78980_1200x1200_fit_q75_h2_lanczos.webp 1200w&#34;
               src=&#34;https://nobuto-m.github.io/ja/post/2023/1684594567/screw_hole_hu4414aed6e4a1b01b5462ef433bcd97e9_78980_5dc51dc947b981bfb787679e5c6fa4be.webp&#34;
               width=&#34;760&#34;
               height=&#34;570&#34;
               loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;figcaption&gt;
      ドリルで下穴も開けた
    &lt;/figcaption&gt;&lt;/figure&gt;

&lt;p&gt;あと最近光クロスの上りが最速の計測値でも2.5Gbpsを超えなくなってきたので、ちょっとはONUの温度下がらないかなと思ってあえて速度を落とすように設定してみた。インターネット側は10Gbpsから5Gbpsへ、LAN側は検証機を10Gbpsから2.5Gbps、他のポートとの合計で4.5Gbpsになるように。でもこれをやるとなぜ10Gbpsを契約しているのだろうという気持ちになるので、まずは様子見。&lt;/p&gt;
&lt;p&gt;と思ったけども、やっぱり2.5Gbpsだと10G対応のルーターを買った意味がないので落とすのは5Gbpsまでに。&lt;/p&gt;


















&lt;figure  id=&#34;figure-結局落とすのは5gbpsまでにした&#34;&gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img alt=&#34;結局落とすのは5Gbpsまでにした&#34;
           src=&#34;https://nobuto-m.github.io/ja/post/2023/1684594567/ports_5000base-t.png&#34;
           loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;figcaption&gt;
      結局落とすのは5Gbpsまでにした
    &lt;/figcaption&gt;&lt;/figure&gt;

</description>
    </item>
    
    <item>
      <title>スーツケースの補修をした</title>
      <link>https://nobuto-m.github.io/ja/post/2023/1684038443/</link>
      <pubDate>Sun, 14 May 2023 13:27:23 +0900</pubDate>
      <guid>https://nobuto-m.github.io/ja/post/2023/1684038443/</guid>
      <description>&lt;p&gt;何度も出張する中で、スーツケースの角の部分が剥がれてきてしまった。実用上は支障がなくて、内袋はファスナー部分と一体なのでこの外殻との隙間部分から細かい荷物が落ちたりすることはまったくない。けれども一度だけ海外のチェックインカウンターでスーツケースが破損しているからという扱いになって、免責書類にサインさせられた。この部分の剥がれが大きくなっても別に賠償を要求しないけど、全体的な破損とかだとまた話が違ってくるので直すことに。&lt;/p&gt;


















&lt;figure  &gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img alt=&#34;&#34; srcset=&#34;
               /ja/post/2023/1684038443/featured_hu893342b4907d133f918f9bdc57fe4296_352479_d9d98ebeb7810d790d1604225c6d91ce.webp 400w,
               /ja/post/2023/1684038443/featured_hu893342b4907d133f918f9bdc57fe4296_352479_711574aabe38e8946ee6ce4c7f538faf.webp 760w,
               /ja/post/2023/1684038443/featured_hu893342b4907d133f918f9bdc57fe4296_352479_1200x1200_fit_q75_h2_lanczos.webp 1200w&#34;
               src=&#34;https://nobuto-m.github.io/ja/post/2023/1684038443/featured_hu893342b4907d133f918f9bdc57fe4296_352479_d9d98ebeb7810d790d1604225c6d91ce.webp&#34;
               width=&#34;567&#34;
               height=&#34;760&#34;
               loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;/figure&gt;

&lt;p&gt;ポリカーボネート素材のはずなので、家にあったある程度強そうな接着剤のどれでもいけそうだったけど最終的にはポリカーボネート対応が明記されていた&lt;a href=&#34;https://www.cemedine.co.jp/home/adhesive/superx/superx.html&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;セメダイン スーパーXクリア&lt;/a&gt;を選択。&lt;/p&gt;


















&lt;figure  &gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img alt=&#34;&#34; srcset=&#34;
               /ja/post/2023/1684038443/adhesives_hued14ede69ba875a35b361c508f8cb079_357430_18967ecdf91f074f1d78070316f55cb8.webp 400w,
               /ja/post/2023/1684038443/adhesives_hued14ede69ba875a35b361c508f8cb079_357430_5b5223bb80e6020d71be44277a7fbdb3.webp 760w,
               /ja/post/2023/1684038443/adhesives_hued14ede69ba875a35b361c508f8cb079_357430_1200x1200_fit_q75_h2_lanczos.webp 1200w&#34;
               src=&#34;https://nobuto-m.github.io/ja/post/2023/1684038443/adhesives_hued14ede69ba875a35b361c508f8cb079_357430_18967ecdf91f074f1d78070316f55cb8.webp&#34;
               width=&#34;760&#34;
               height=&#34;570&#34;
               loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;/figure&gt;

</description>
    </item>
    
    <item>
      <title>TOKYO MER 隅田川ミッションを観た</title>
      <link>https://nobuto-m.github.io/ja/post/2023/1684037305/</link>
      <pubDate>Sun, 14 May 2023 13:08:25 +0900</pubDate>
      <guid>https://nobuto-m.github.io/ja/post/2023/1684037305/</guid>
      <description>&lt;p&gt;録画してあった&lt;a href=&#34;https://www.tbs.co.jp/TokyoMER_tbs/story/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;TOKYO MERのSPドラマ「隅田川ミッション」&lt;/a&gt;を観た。TOKYO MERは医療ドラマだけど医療ドラマじゃない、まともな判断がなされないハチャメチャなドラマだけど、このスペシャルドラマはいつも通りハチャメチャで期待を裏切らなかった。絶対に一人では完走できなさそうな、家族と一緒にわいわい観るから楽しいタイプのドラマ。今回の話がMERの中での出来が良すぎて、映画がこれより面白くなれるのか心配になるぐらい。&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>レンタルルーターのファームウェアアップデート待ち</title>
      <link>https://nobuto-m.github.io/ja/post/2023/1683630665/</link>
      <pubDate>Tue, 09 May 2023 20:11:05 +0900</pubDate>
      <guid>https://nobuto-m.github.io/ja/post/2023/1683630665/</guid>
      <description>&lt;p&gt;&lt;a href=&#34;https://www.ntt-east.co.jp/release/detail/20230508_01.html&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;フレッツ光クロスのひかり電話対応&lt;/a&gt;がアナウンスされた。提供開始日は2023年5月31日となっていて、それまでにひかり電話対応用のファームウェアアップデートが来ないといけないはずだけど、まだ&lt;a href=&#34;https://web116.jp/ced/support/version/broadband/xg_100ne/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;東日本&lt;/a&gt;は&lt;code&gt;ver.02.00.0005&lt;/code&gt;(2021/02/24日付)が最新との表示。&lt;/p&gt;
&lt;p&gt;西日本の方は、ひかり電話対応のアナウンスの一足先に&lt;code&gt;Version 03.00.0001&lt;/code&gt;(2023/04/11日付)が出ている。&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://www.ntt-west.co.jp/kiki/download/flets/xg100ne/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;https://www.ntt-west.co.jp/kiki/download/flets/xg100ne/&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;今後のサービス拡張において必要な基本機能を追加しました。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;一部動作の改善を行いました。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;レンタルルーターなのでこれを無理やり適用するのはまずいので、ルーターの返却期限までに東日本公式のアップデートが来てくれれば&lt;a href=&#34;https://nobuto-m.github.io/ja/post/2023/1683091989/&#34;&gt;通信が詰まる現象&lt;/a&gt;が解消されたかどうかだけでも確認できるのでいいなぁと期待。&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>メリーゴーラウンドに乗った</title>
      <link>https://nobuto-m.github.io/ja/post/2023/1683548704/</link>
      <pubDate>Mon, 08 May 2023 21:25:04 +0900</pubDate>
      <guid>https://nobuto-m.github.io/ja/post/2023/1683548704/</guid>
      <description>&lt;p&gt;ゴールデンウィークも終わってしまう、でも何かちょっと子どものためにどっか連れて行ってあげたいと思った土曜日に東京ドームシティへ行った。リニューアルされてから行くのは初めてだと思う。メリーゴーラウンドはいつも馬じゃなくて馬車の客室部分にあたるベンチみたいなところに座りたいと言い出すけども、ちょうど他の付い添いの大人がベンチ2つに座ってくれたので、しぶしぶだけど初めて馬に乗ってくれてよかった。乗ったら乗ったでめちゃめちゃ楽しそうにしてくれるんだけど。&lt;/p&gt;
&lt;p&gt;夕飯は&lt;a href=&#34;https://sengokuga.com/kourakuen/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;レストランせんごく&lt;/a&gt;で。このエリアなのに並ばずに入れてしまうのが何ともだけど、子ども連れて入れるので助かってます。&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>玄関のタイル掃除をした</title>
      <link>https://nobuto-m.github.io/ja/post/2023/1683448276/</link>
      <pubDate>Sun, 07 May 2023 17:31:16 +0900</pubDate>
      <guid>https://nobuto-m.github.io/ja/post/2023/1683448276/</guid>
      <description>&lt;p&gt;だいぶ黒ずんできたので本格的にお掃除。大理石みたいなツルツルタイプではなくて、かなりざらざらなタイプなので引っかかって雑巾で拭くこともできず掃除しにくい。メラミンスポンジもすごい勢いで削れていく。結局はメラミンスポンジに水をたっぷり含ませてタイルを濡らしていき、水で汚れが浮いたところを乾拭き雑巾で押さえるの繰り返し。&lt;/p&gt;


















&lt;figure  &gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img alt=&#34;&#34; srcset=&#34;
               /ja/post/2023/1683448276/featured_hu1e20fc0de76511c87a05eec57cef78ad_348301_fa871f827ec7fc54b94e735eb7991683.webp 400w,
               /ja/post/2023/1683448276/featured_hu1e20fc0de76511c87a05eec57cef78ad_348301_a3fcc1147b6e2e363c135e11aa8775e9.webp 760w,
               /ja/post/2023/1683448276/featured_hu1e20fc0de76511c87a05eec57cef78ad_348301_1200x1200_fit_q75_h2_lanczos.webp 1200w&#34;
               src=&#34;https://nobuto-m.github.io/ja/post/2023/1683448276/featured_hu1e20fc0de76511c87a05eec57cef78ad_348301_fa871f827ec7fc54b94e735eb7991683.webp&#34;
               width=&#34;759&#34;
               height=&#34;760&#34;
               loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;/figure&gt;

&lt;p&gt;家の外の部分はがっつり水がかけられるので&lt;a href=&#34;https://www.lec-online.com/c/04cleaning/4903320161344&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;専用のブラシ&lt;/a&gt;を買った。水切りがついてるのが良い。どうせピカピカな状態は数日も持たないので、ある程度あきらめることが重要。&lt;/p&gt;


















&lt;figure  &gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img alt=&#34;&#34; srcset=&#34;
               /ja/post/2023/1683448276/before-after_hu4f37e83986afead55eae55118d8dbba2_158015_ad5cd506cc0406271344826729b80676.webp 400w,
               /ja/post/2023/1683448276/before-after_hu4f37e83986afead55eae55118d8dbba2_158015_cdbf7ec5e612e255cdae0ad1b56d899a.webp 760w,
               /ja/post/2023/1683448276/before-after_hu4f37e83986afead55eae55118d8dbba2_158015_1200x1200_fit_q75_h2_lanczos.webp 1200w&#34;
               src=&#34;https://nobuto-m.github.io/ja/post/2023/1683448276/before-after_hu4f37e83986afead55eae55118d8dbba2_158015_ad5cd506cc0406271344826729b80676.webp&#34;
               width=&#34;760&#34;
               height=&#34;380&#34;
               loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;/figure&gt;

</description>
    </item>
    
    <item>
      <title>眼鏡を買った</title>
      <link>https://nobuto-m.github.io/ja/post/2023/1683432577/</link>
      <pubDate>Sun, 07 May 2023 13:09:37 +0900</pubDate>
      <guid>https://nobuto-m.github.io/ja/post/2023/1683432577/</guid>
      <description>&lt;p&gt;運転免許の更新に支障はないぐらいだけれども、年齢とともに左目で遠くを見たときに霞むようになってきた。ずっと裸眼で過ごしてきて眼鏡が必要になるのは老眼になる時だけだと思ってたけど、そうはいかなかった。&lt;/p&gt;
&lt;p&gt;元から左右で見え方が少し違って高校生の時と6年前に眼鏡が欲しくて測定してもらって、多少乱視はあるものの眼鏡が必要なほどじゃないと言われてまあそうか、とあきらめた。ただ数年前から左目の違和感が大きくなってきてついに眼鏡を買うことに。選んだのは1本で運転にも使えるようにパカパカフリップタイプ。&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://www.jins.com/jp/switch/#flip_up&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;https://www.jins.com/jp/switch/#flip_up&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;パカパカなしで紫外線の量によって色が変わる調光レンズの方がスマートだけど、ドライブに使ったり屋外から屋内に入った時を考えるとパカパカタイプがいいな、と。&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://www.jins.com/jp/lens/colorcontrol/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;https://www.jins.com/jp/lens/colorcontrol/&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;紫外線カットガラスに覆われた車内などでは、レンズは変色しません。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;濃いレンズが淡く戻るまでに多少の時間を要します。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;結果、左目用に&lt;code&gt;SPH: -0.50&lt;/code&gt;、&lt;code&gt;CYL: -0.50&lt;/code&gt;のレンズを入れてもらった。手元のノートPCを見るぐらいだと元から困ってなかったけど、それ以上の距離を見るときにパリッと見えて幸せ。&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>SanDisk SSD Plusシリーズは2TBの方が480GBより遅く見えちゃう</title>
      <link>https://nobuto-m.github.io/ja/post/2023/1683280885/</link>
      <pubDate>Fri, 05 May 2023 19:01:25 +0900</pubDate>
      <guid>https://nobuto-m.github.io/ja/post/2023/1683280885/</guid>
      <description>&lt;p&gt;前回、&lt;a href=&#34;https://www.westerndigital.com/ja-jp/products/internal-drives/sandisk-ssd-plus-sata-iii-ssd&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;SanDisk SDSSDA-2T00-G26&lt;/a&gt;が&lt;a href=&#34;https://nobuto-m.github.io/ja/post/2023/1683173373/&#34;&gt;REGZAの2番組同時録画と別番組再生に追いつけなかった話&lt;/a&gt;で興味が出たので、同じシリーズの480GB(SDSSDA-480G-J26)も持ってたので同じ条件で軽く計測してみた。古いSSD同士で何をいまさらって感じがあるけど、まあ見てみたかったので。&lt;/p&gt;


















&lt;figure  id=&#34;figure-sandisk-ssd-plus-2tb&#34;&gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img alt=&#34;SanDisk SSD Plus 2TB&#34;
           src=&#34;https://nobuto-m.github.io/ja/post/2023/1683280885/sandisk_granular.png&#34;
           loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;figcaption&gt;
      SanDisk SSD Plus 2TB
    &lt;/figcaption&gt;&lt;/figure&gt;



















&lt;figure  id=&#34;figure-sandisk-ssd-plus-480gb&#34;&gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img alt=&#34;SanDisk SSD Plus 480GB&#34;
           src=&#34;https://nobuto-m.github.io/ja/post/2023/1683280885/featured.png&#34;
           loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;figcaption&gt;
      SanDisk SSD Plus 480GB
    &lt;/figcaption&gt;&lt;/figure&gt;

&lt;p&gt;これを見ると480GBの方がガタガタではあるけれども、予測しやすい理屈に合った動きをしているように見えるし、平均書き込み速度で上回ってて、レイテンシーの面でも優秀。SSDは容量が大きい方がだいたい書き込み速度が上がる印象だけどこういうこともあるんだなと。ファームウェアのリビジョンによる違いなのかもしれないけど。&lt;/p&gt;
&lt;p&gt;と思ったら普通にデータシートに1TBの方が他より遅いって書いてあった。2TBは最速っぽく書いてあるけど。&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://documents.westerndigital.com/content/dam/doc-library/en_us/assets/public/sandisk/product/internal-drives/ssd-plus-sata-iii-ssd/data-sheet-ssd-plus-sata-iii-ssd.pdf&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Datasheet (PDF)&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;Read/write speeds of up to
545MB/s/450MBs** [2TB]&lt;/li&gt;
&lt;li&gt;Read/write speeds of up to
535MB/s/350MBs** [1TB]&lt;/li&gt;
&lt;li&gt;Read/write speeds of up to
535MB/s/445MBs** [480GB]&lt;/li&gt;
&lt;li&gt;Read/write speeds of up to
530MB/s/440MBs** [240GB]&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;ちなみに実際のTBWはどちらも使いすぎってわけではなくて、大した値ではなかった。&lt;/p&gt;
&lt;p&gt;[480GB]&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ sudo smartctl -A /dev/disk/by-id/ata-SanDisk_SDSSDA480G_XYZ -d sat
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;smartctl 7.2 2020-12-30 r5155 &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;x86_64-linux-6.1.0-1009-oem&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;local&lt;/span&gt; build&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Copyright &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;C&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; 2002-20, Bruce Allen, Christian Franke, www.smartmontools.org
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;===&lt;/span&gt; START OF READ SMART DATA &lt;span class=&#34;nv&#34;&gt;SECTION&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;===&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;SMART Attributes Data Structure revision number: &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Vendor Specific SMART Attributes with Thresholds:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ID# ATTRIBUTE_NAME          FLAG     VALUE WORST THRESH TYPE      UPDATED  WHEN_FAILED RAW_VALUE
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;m&#34;&gt;5&lt;/span&gt; Retired_Block_Count     0x0032   &lt;span class=&#34;m&#34;&gt;100&lt;/span&gt;   &lt;span class=&#34;m&#34;&gt;100&lt;/span&gt;   &lt;span class=&#34;m&#34;&gt;000&lt;/span&gt;    Old_age   Always       -       &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;m&#34;&gt;9&lt;/span&gt; Power_On_Hours_and_Msec 0x0032   &lt;span class=&#34;m&#34;&gt;000&lt;/span&gt;   &lt;span class=&#34;m&#34;&gt;100&lt;/span&gt;   &lt;span class=&#34;m&#34;&gt;000&lt;/span&gt;    Old_age   Always       -       11604h+00m+00.000s
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; &lt;span class=&#34;m&#34;&gt;12&lt;/span&gt; Power_Cycle_Count       0x0032   &lt;span class=&#34;m&#34;&gt;100&lt;/span&gt;   &lt;span class=&#34;m&#34;&gt;100&lt;/span&gt;   &lt;span class=&#34;m&#34;&gt;000&lt;/span&gt;    Old_age   Always       -       &lt;span class=&#34;m&#34;&gt;1926&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;m&#34;&gt;165&lt;/span&gt; Unknown_Attribute       0x0032   &lt;span class=&#34;m&#34;&gt;100&lt;/span&gt;   &lt;span class=&#34;m&#34;&gt;100&lt;/span&gt;   &lt;span class=&#34;m&#34;&gt;000&lt;/span&gt;    Old_age   Always       -       &lt;span class=&#34;m&#34;&gt;7241469593843&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;m&#34;&gt;166&lt;/span&gt; Unknown_Attribute       0x0032   &lt;span class=&#34;m&#34;&gt;100&lt;/span&gt;   &lt;span class=&#34;m&#34;&gt;100&lt;/span&gt;   &lt;span class=&#34;m&#34;&gt;000&lt;/span&gt;    Old_age   Always       -       &lt;span class=&#34;m&#34;&gt;2&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;m&#34;&gt;167&lt;/span&gt; Unknown_Attribute       0x0032   &lt;span class=&#34;m&#34;&gt;100&lt;/span&gt;   &lt;span class=&#34;m&#34;&gt;100&lt;/span&gt;   &lt;span class=&#34;m&#34;&gt;000&lt;/span&gt;    Old_age   Always       -       &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;m&#34;&gt;168&lt;/span&gt; Unknown_Attribute       0x0032   &lt;span class=&#34;m&#34;&gt;100&lt;/span&gt;   &lt;span class=&#34;m&#34;&gt;100&lt;/span&gt;   &lt;span class=&#34;m&#34;&gt;000&lt;/span&gt;    Old_age   Always       -       &lt;span class=&#34;m&#34;&gt;15&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;m&#34;&gt;169&lt;/span&gt; Unknown_Attribute       0x0032   &lt;span class=&#34;m&#34;&gt;100&lt;/span&gt;   &lt;span class=&#34;m&#34;&gt;100&lt;/span&gt;   &lt;span class=&#34;m&#34;&gt;000&lt;/span&gt;    Old_age   Always       -       &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;m&#34;&gt;170&lt;/span&gt; Reserve_Block_Count     0x0032   &lt;span class=&#34;m&#34;&gt;100&lt;/span&gt;   &lt;span class=&#34;m&#34;&gt;100&lt;/span&gt;   &lt;span class=&#34;m&#34;&gt;000&lt;/span&gt;    Old_age   Always       -       &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;m&#34;&gt;171&lt;/span&gt; Program_Fail_Count      0x0032   &lt;span class=&#34;m&#34;&gt;100&lt;/span&gt;   &lt;span class=&#34;m&#34;&gt;100&lt;/span&gt;   &lt;span class=&#34;m&#34;&gt;000&lt;/span&gt;    Old_age   Always       -       &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;m&#34;&gt;172&lt;/span&gt; Erase_Fail_Count        0x0032   &lt;span class=&#34;m&#34;&gt;100&lt;/span&gt;   &lt;span class=&#34;m&#34;&gt;100&lt;/span&gt;   &lt;span class=&#34;m&#34;&gt;000&lt;/span&gt;    Old_age   Always       -       &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;m&#34;&gt;173&lt;/span&gt; Unknown_SandForce_Attr  0x0032   &lt;span class=&#34;m&#34;&gt;100&lt;/span&gt;   &lt;span class=&#34;m&#34;&gt;100&lt;/span&gt;   &lt;span class=&#34;m&#34;&gt;000&lt;/span&gt;    Old_age   Always       -       &lt;span class=&#34;m&#34;&gt;8&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;m&#34;&gt;174&lt;/span&gt; Unexpect_Power_Loss_Ct  0x0032   &lt;span class=&#34;m&#34;&gt;100&lt;/span&gt;   &lt;span class=&#34;m&#34;&gt;100&lt;/span&gt;   &lt;span class=&#34;m&#34;&gt;000&lt;/span&gt;    Old_age   Always       -       &lt;span class=&#34;m&#34;&gt;120&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;m&#34;&gt;187&lt;/span&gt; Reported_Uncorrect      0x0032   &lt;span class=&#34;m&#34;&gt;100&lt;/span&gt;   &lt;span class=&#34;m&#34;&gt;100&lt;/span&gt;   &lt;span class=&#34;m&#34;&gt;000&lt;/span&gt;    Old_age   Always       -       &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;m&#34;&gt;188&lt;/span&gt; Command_Timeout         0x0032   &lt;span class=&#34;m&#34;&gt;100&lt;/span&gt;   &lt;span class=&#34;m&#34;&gt;100&lt;/span&gt;   &lt;span class=&#34;m&#34;&gt;000&lt;/span&gt;    Old_age   Always       -       &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;m&#34;&gt;194&lt;/span&gt; Temperature_Celsius     0x0022   &lt;span class=&#34;m&#34;&gt;061&lt;/span&gt;   &lt;span class=&#34;m&#34;&gt;022&lt;/span&gt;   &lt;span class=&#34;m&#34;&gt;000&lt;/span&gt;    Old_age   Always       -       &lt;span class=&#34;m&#34;&gt;39&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;Min/Max 0/78&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;m&#34;&gt;199&lt;/span&gt; SATA_CRC_Error_Count    0x0032   &lt;span class=&#34;m&#34;&gt;100&lt;/span&gt;   &lt;span class=&#34;m&#34;&gt;100&lt;/span&gt;   &lt;span class=&#34;m&#34;&gt;000&lt;/span&gt;    Old_age   Always       -       &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;m&#34;&gt;230&lt;/span&gt; Life_Curve_Status       0x0032   &lt;span class=&#34;m&#34;&gt;100&lt;/span&gt;   &lt;span class=&#34;m&#34;&gt;100&lt;/span&gt;   &lt;span class=&#34;m&#34;&gt;000&lt;/span&gt;    Old_age   Always       -       &lt;span class=&#34;m&#34;&gt;3277067780859&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;m&#34;&gt;232&lt;/span&gt; Available_Reservd_Space 0x0033   &lt;span class=&#34;m&#34;&gt;100&lt;/span&gt;   &lt;span class=&#34;m&#34;&gt;100&lt;/span&gt;   &lt;span class=&#34;m&#34;&gt;004&lt;/span&gt;    Pre-fail  Always       -       &lt;span class=&#34;m&#34;&gt;100&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;m&#34;&gt;233&lt;/span&gt; SandForce_Internal      0x0032   &lt;span class=&#34;m&#34;&gt;100&lt;/span&gt;   &lt;span class=&#34;m&#34;&gt;100&lt;/span&gt;   &lt;span class=&#34;m&#34;&gt;000&lt;/span&gt;    Old_age   Always       -       &lt;span class=&#34;m&#34;&gt;3950&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;m&#34;&gt;234&lt;/span&gt; SandForce_Internal      0x0032   &lt;span class=&#34;m&#34;&gt;100&lt;/span&gt;   &lt;span class=&#34;m&#34;&gt;100&lt;/span&gt;   &lt;span class=&#34;m&#34;&gt;000&lt;/span&gt;    Old_age   Always       -       &lt;span class=&#34;m&#34;&gt;43857&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;m&#34;&gt;241&lt;/span&gt; Lifetime_Writes_GiB     0x0030   &lt;span class=&#34;m&#34;&gt;253&lt;/span&gt;   &lt;span class=&#34;m&#34;&gt;253&lt;/span&gt;   &lt;span class=&#34;m&#34;&gt;000&lt;/span&gt;    Old_age   Offline      -       &lt;span class=&#34;m&#34;&gt;13081&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;m&#34;&gt;242&lt;/span&gt; Lifetime_Reads_GiB      0x0030   &lt;span class=&#34;m&#34;&gt;253&lt;/span&gt;   &lt;span class=&#34;m&#34;&gt;253&lt;/span&gt;   &lt;span class=&#34;m&#34;&gt;000&lt;/span&gt;    Old_age   Offline      -       &lt;span class=&#34;m&#34;&gt;6245&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;m&#34;&gt;244&lt;/span&gt; Unknown_Attribute       0x0032   &lt;span class=&#34;m&#34;&gt;000&lt;/span&gt;   &lt;span class=&#34;m&#34;&gt;100&lt;/span&gt;   &lt;span class=&#34;m&#34;&gt;000&lt;/span&gt;    Old_age   Always       -       &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;-&amp;gt; TBW: &lt;code&gt;~13 TB&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;[2TB]&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ sudo smartctl -A /dev/disk/by-id/ata-SanDisk_SSD_PLUS_2000GB_XYZ -d sat
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;smartctl 7.2 2020-12-30 r5155 [x86_64-linux-6.1.0-1009-oem] (local build)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Copyright (C) 2002-20, Bruce Allen, Christian Franke, www.smartmontools.org
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;=== START OF READ SMART DATA SECTION ===
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;SMART Attributes Data Structure revision number: 1
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Vendor Specific SMART Attributes with Thresholds:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ID# ATTRIBUTE_NAME          FLAG     VALUE WORST THRESH TYPE      UPDATED  WHEN_FAILED RAW_VALUE
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  5 Reallocated_Sector_Ct   0x0032   100   100   000    Old_age   Always       -       0
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  9 Power_On_Hours          0x0032   100   100   000    Old_age   Always       -       11767
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; 12 Power_Cycle_Count       0x0032   100   100   000    Old_age   Always       -       343
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;165 Unknown_Attribute       0x0032   100   100   000    Old_age   Always       -       1378
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;166 Unknown_Attribute       0x0032   100   100   ---    Old_age   Always       -       10
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;167 Unknown_Attribute       0x0032   100   100   ---    Old_age   Always       -       98
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;168 Unknown_Attribute       0x0032   100   100   ---    Old_age   Always       -       27
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;169 Unknown_Attribute       0x0032   100   100   ---    Old_age   Always       -       1623
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;170 Unknown_Attribute       0x0032   100   100   ---    Old_age   Always       -       0
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;171 Unknown_Attribute       0x0032   100   100   000    Old_age   Always       -       0
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;172 Unknown_Attribute       0x0032   100   100   000    Old_age   Always       -       0
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;173 Unknown_Attribute       0x0032   100   100   000    Old_age   Always       -       10
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;174 Unknown_Attribute       0x0032   100   100   000    Old_age   Always       -       239
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;184 End-to-End_Error        0x0032   100   100   ---    Old_age   Always       -       0
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;187 Reported_Uncorrect      0x0032   100   100   000    Old_age   Always       -       0
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;188 Command_Timeout         0x0032   100   100   ---    Old_age   Always       -       0
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;194 Temperature_Celsius     0x0022   058   071   000    Old_age   Always       -       42 (Min/Max 14/71)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;199 UDMA_CRC_Error_Count    0x0032   100   100   ---    Old_age   Always       -       0
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;230 Unknown_SSD_Attribute   0x0032   100   100   000    Old_age   Always       -       3698000397149
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;232 Available_Reservd_Space 0x0033   100   100   005    Pre-fail  Always       -       100
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;233 Media_Wearout_Indicator 0x0032   100   100   ---    Old_age   Always       -       21640
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;234 Unknown_Attribute       0x0032   100   100   000    Old_age   Always       -       37214
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;241 Total_LBAs_Written      0x0030   100   100   000    Old_age   Offline      -       14543
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;242 Total_LBAs_Read         0x0030   100   100   000    Old_age   Offline      -       9730
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;244 Unknown_Attribute       0x0032   000   100   ---    Old_age   Always       -       0
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;-&amp;gt; TBW: &lt;code&gt;~14.5 TB&lt;/code&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>REGZAの録画用ドライブをSSD-SCT2.0U3BA/Nに交換した</title>
      <link>https://nobuto-m.github.io/ja/post/2023/1683173373/</link>
      <pubDate>Thu, 04 May 2023 13:09:33 +0900</pubDate>
      <guid>https://nobuto-m.github.io/ja/post/2023/1683173373/</guid>
      <description>&lt;p&gt;&lt;a href=&#34;https://www.buffalo.jp/product/detail/ssd-sct2.0u3ba_n.html&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;SSD-SCT2.0U3BA/N&lt;/a&gt;が15,980円と少し安くなっていたので思い切って買った。&lt;/p&gt;


















&lt;figure  &gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img alt=&#34;&#34; srcset=&#34;
               /ja/post/2023/1683173373/featured_hud782085a8b6e74700ff35a82a87217cc_380086_f60c5ee5f416cb3cd1c0abda61996f60.webp 400w,
               /ja/post/2023/1683173373/featured_hud782085a8b6e74700ff35a82a87217cc_380086_26dd5f867c3b29fdaa4972a260fcf989.webp 760w,
               /ja/post/2023/1683173373/featured_hud782085a8b6e74700ff35a82a87217cc_380086_1200x1200_fit_q75_h2_lanczos.webp 1200w&#34;
               src=&#34;https://nobuto-m.github.io/ja/post/2023/1683173373/featured_hud782085a8b6e74700ff35a82a87217cc_380086_f60c5ee5f416cb3cd1c0abda61996f60.webp&#34;
               width=&#34;760&#34;
               height=&#34;570&#34;
               loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;/figure&gt;

&lt;p&gt;HDDのガリガリ音と振動の反響音がリビングで聞こえるのが嫌で、今までも2TBのSSDとして&lt;a href=&#34;https://www.westerndigital.com/ja-jp/products/internal-drives/sandisk-ssd-plus-sata-iii-ssd&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;SanDisk SDSSDA-2T00-G26&lt;/a&gt;をUSB接続で使っていた。ただこれがREGZAと組み合わせると全然期待通りに動いてくれない。テレビの録画なんて2番組同時録画してもせいぜい2x24Mbps、で同時録画中に他の番組を再生しても24Mbpsなので、6MB/sの書き込みと3MB/sの読み出しというHDDですら楽々こなせるタスクなのに、なぜかこのSanDiskのやつだとテレビ自体がエラーを吐いたり、録画データが破損してブロックノイズが出たりする。熱の影響かと思ってケースから出して裸で運用したり、USBからの電源供給が足りないかと思って補助電源を追加してもダメ。&lt;/p&gt;
&lt;p&gt;テレビが悪いのかSSDが悪いのか自信がないまま新しいSSDを買ったけど、結果として問題なく動いてくれてよかった。&lt;/p&gt;
&lt;p&gt;REGZAはXFSを使ってるのでファイルシステムか中身をコピーしてってのは可能かもしれないけど、今回はさくっとまるごと移行。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ lsblk -f /dev/disk/by-id/ata-SanDisk_SSD_PLUS_2000GB_XYZ
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;NAME   FSTYPE FSVER LABEL UUID                                 FSAVAIL FSUSE% MOUNTPOINTS
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sda
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;└─sda1 xfs                d5ea386b-ad90-47fc-9105-383cb0b00eba  118.8G    94% /media/nobuto/d5ea386b-ad90-47fc-9105-383cb0b00eba
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;移行元と移行先のSSDのサイズはピッタリ同じなのでリサイズを考慮しなくていい。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ lsblk &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;    /dev/disk/by-id/ata-SanDisk_SSD_PLUS_2000GB_XYZ &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;    /dev/disk/by-id/usb-BUFFALO_SSD-SCTU3A_XYZ-0&lt;span class=&#34;se&#34;&gt;\:&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;NAME   MAJ:MIN RM  SIZE RO TYPE MOUNTPOINTS
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sda      8:0    &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;  1.8T  &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt; disk
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;...
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sdb      8:16   &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;  1.8T  &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt; disk
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;...
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ lsblk -b &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;    /dev/disk/by-id/ata-SanDisk_SSD_PLUS_2000GB_XYZ &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;    /dev/disk/by-id/usb-BUFFALO_SSD-SCTU3A_XYZ-0&lt;span class=&#34;se&#34;&gt;\:&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;NAME   MAJ:MIN RM           SIZE RO TYPE MOUNTPOINTS
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sda      8:0    &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;  &lt;span class=&#34;m&#34;&gt;2000398934016&lt;/span&gt;  &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt; disk
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;...
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sdb      8:16   &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;  &lt;span class=&#34;m&#34;&gt;2000398934016&lt;/span&gt;  &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt; disk
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;...
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;で、移行元のドライブも壊れてるわけではないので、&lt;code&gt;ddrescue&lt;/code&gt;ではなくさくっと&lt;code&gt;dd&lt;/code&gt;で。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ sudo dd &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/dev/disk/by-id/ata-SanDisk_SSD_PLUS_2000GB_XYZ &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;nv&#34;&gt;of&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/dev/disk/by-id/usb-BUFFALO_SSD-SCTU3A_XYZ-0&lt;span class=&#34;se&#34;&gt;\:&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;0&lt;/span&gt; &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;nv&#34;&gt;bs&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;4M &lt;span class=&#34;nv&#34;&gt;status&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;progress &lt;span class=&#34;nv&#34;&gt;oflag&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;sync
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;m&#34;&gt;2000398934016&lt;/span&gt; bytes &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;2.0 TB, 1.8 TiB&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; copied, 18102.6 s, &lt;span class=&#34;m&#34;&gt;111&lt;/span&gt; MB/s
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;最初のうちは200-300MB/sとかでコピーされてたけれども徐々に100MB/sぐらいに落ち着いて結局5時間以上かかることに。&lt;/p&gt;
&lt;p&gt;移行が終わってからSanDiskのSSDをテストすると、新しいSSDの方が全然安定してる。特にレイテンシー。&lt;/p&gt;


















&lt;figure  id=&#34;figure-旧ssdあんまり安定していない&#34;&gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img alt=&#34;旧SSD、あんまり安定していない&#34;
           src=&#34;https://nobuto-m.github.io/ja/post/2023/1683173373/sandisk.png&#34;
           loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;figcaption&gt;
      旧SSD、あんまり安定していない
    &lt;/figcaption&gt;&lt;/figure&gt;



















&lt;figure  id=&#34;figure-新ssd安定してる&#34;&gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img alt=&#34;新SSD、安定してる&#34;
           src=&#34;https://nobuto-m.github.io/ja/post/2023/1683173373/buffalo.png&#34;
           loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;figcaption&gt;
      新SSD、安定してる
    &lt;/figcaption&gt;&lt;/figure&gt;

&lt;p&gt;条件を変えてもっと長く書き込みすると、なるほどテレビ録画といえどもこのSSDにはきつかったのかもしれない、という図が出せる。&lt;/p&gt;


















&lt;figure  id=&#34;figure-旧ssd長く書くと10mbsぐらいまで落ち込むこともある&#34;&gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img alt=&#34;旧SSD、長く書くと10MB/sぐらいまで落ち込むこともある&#34;
           src=&#34;https://nobuto-m.github.io/ja/post/2023/1683173373/sandisk_long.png&#34;
           loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;figcaption&gt;
      旧SSD、長く書くと10MB/sぐらいまで落ち込むこともある
    &lt;/figcaption&gt;&lt;/figure&gt;

&lt;p&gt;旧SSDの費用が無駄になった感じがするけど、テレビ自体は悪くなさそうというのがわかっただけでも良しとする。&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>ザ・スーパーマリオブラザーズ・ムービーを観た</title>
      <link>https://nobuto-m.github.io/ja/post/2023/1683115334/</link>
      <pubDate>Wed, 03 May 2023 21:02:14 +0900</pubDate>
      <guid>https://nobuto-m.github.io/ja/post/2023/1683115334/</guid>
      <description>&lt;p&gt;ゴールデンウィーク開始の土日に、義両親の家に子どもと泊まってその足で観てきた。子どもが映画の予告を見てからずっと観たいと言っていて、GW期間中になることも知っていたので連休のスタートダッシュをきめた感じ。4DXの方が面白いかなと思ったけど、まだ3D用のメガネを上映中ずっとかけてるのは難しいかなと判断し2D上映で。終わった後に歩道橋の上でいきなり立ち止まって「マリオの映画楽しかった」と伝えてくれたのですべて良し。&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>光クロス対応レンタルルーターの解約申請をした</title>
      <link>https://nobuto-m.github.io/ja/post/2023/1683091989/</link>
      <pubDate>Wed, 03 May 2023 14:33:09 +0900</pubDate>
      <guid>https://nobuto-m.github.io/ja/post/2023/1683091989/</guid>
      <description>&lt;p&gt;光クロスを契約した当初は10Gbps対応uplink/downlinkが1つずつ付いたルーターが⽉額550円で借りられるなんて激安だと思ったけど、この&lt;a href=&#34;https://flets.com/cross/router.html&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;XG-100NE&lt;/a&gt;は独特の詰まり方をするので耐えられなくなってしまった。&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://gihyo.jp/admin/serial/01/ubuntu-recipe/0706&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;https://gihyo.jp/admin/serial/01/ubuntu-recipe/0706&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;未解決の問題として、Androidスマートフォンの画面スリープからの復帰直後にICMP(IPv4)もTCP(IPv6)も問題なく疎通できるのにも関わらず、数分間だけTCP(IPv4)で再送が多発する場合があります。常に再現するわけではなく、しばらく待ったり、Android側でWi-Fiのオンオフ操作をすると即座に直ってしまうため&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;このように書くとMAP-Eのポートが足りなくなってるだけじゃないの、と読めるし、&lt;code&gt;セキュリティログ(IPv4)&lt;/code&gt;というところに&lt;code&gt;利用可能なポート無し&lt;/code&gt;とも出てくる。確定じゃんと思うけども、不思議なのはクライアント側から送られてくる通信がサーバー側から見えるのでポートの割り当て自体はできているように見えること。あと、クライアントの数が鍵な気がする(15-20台とか）。&lt;code&gt;利用可能なポート無し&lt;/code&gt;は常に出ているので限界な状態をさらに超えると発生するのかも。&lt;/p&gt;
&lt;blockquote class=&#34;twitter-tweet&#34; data-dnt=&#34;true&#34;&gt;&lt;p lang=&#34;ja&#34; dir=&#34;ltr&#34;&gt;時々TCP4通信だけが詰まる原因がわからん。このログ(何を意味するかの説明はない)からするとMAP-Eするときのソースポートが足りてないと言わんとしてそうだけど、特に1,000コネクションも張ってないと思うんだよな。 &lt;a href=&#34;https://t.co/2Es0GsLdGv&#34;&gt;pic.twitter.com/2Es0GsLdGv&lt;/a&gt;&lt;/p&gt;&amp;mdash; Nobuto Murata (@nobuto_m) &lt;a href=&#34;https://twitter.com/nobuto_m/status/1487425066338238465?ref_src=twsrc%5Etfw&#34;&gt;January 29, 2022&lt;/a&gt;&lt;/blockquote&gt;
&lt;script async src=&#34;https://platform.twitter.com/widgets.js&#34; charset=&#34;utf-8&#34;&gt;&lt;/script&gt;

&lt;p&gt;で、発生した場合の通信をよく見てても特にポート枯渇してるようには見えず、&lt;code&gt;TCP Port numbers reused&lt;/code&gt;と&lt;code&gt;TCP Retransmission&lt;/code&gt;が観測されるのでなんとなくNAT/conntrackに相当するところが怪しいけれどもルーター側では詳しいログが出ないので詳細はわからず。&lt;/p&gt;
&lt;blockquote class=&#34;twitter-tweet&#34; data-dnt=&#34;true&#34;&gt;&lt;p lang=&#34;ja&#34; dir=&#34;ltr&#34;&gt;やっぱり事象が発生するときはボコボコだな。HTTPはその状態でかろうじてなんとかなってもHTTPSはなんとかはならない。 &lt;a href=&#34;https://t.co/VtaygPYi3a&#34;&gt;pic.twitter.com/VtaygPYi3a&lt;/a&gt;&lt;/p&gt;&amp;mdash; Nobuto Murata (@nobuto_m) &lt;a href=&#34;https://twitter.com/nobuto_m/status/1497959192237572096?ref_src=twsrc%5Etfw&#34;&gt;February 27, 2022&lt;/a&gt;&lt;/blockquote&gt;
&lt;script async src=&#34;https://platform.twitter.com/widgets.js&#34; charset=&#34;utf-8&#34;&gt;&lt;/script&gt;

&lt;p&gt;現象が発生したらクライアント側から再接続しなきゃいけないのが面倒で、しかも再接続した後からは普通に使えてしまう謎。NEC製なので他のメーカーで切り分けしたくてまずは10Gbps対応していない5千円弱のBuffaloルーターを買ってきて取り替えたら現象がまったく発生しない！&lt;/p&gt;
&lt;p&gt;もしかしたらNEC製XG-100NEの方が規格に則った正しい動きということがあるのかもしれないけど、やっぱり現象が発生しない方がいいのでNEC製じゃない10Gbps対応かつOCNバーチャルコネクトにしっかり対応したものを探して最終的には&lt;a href=&#34;https://www.buffalo.jp/product/detail/vr-u500x.html&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;BuffaloのVR-U500X&lt;/a&gt;を購入。ある程度値段はするものの10Gbps対応ルーターとして長く動いてくれればそれでよし。無線LAN一体型ではないので、アクセスポイントがルーターとは別に選べることがメリットだと思い込むことにします。&lt;/p&gt;
&lt;p&gt;肝心のレンタルルーター解約手続きはお電話のみの対応っぽかったので、オペレーターにつながるまで10分、その後15分ぐらいで手続きは完了。工事扱いになるので工事日にMAP-Eでつながらない時間ができないかだけ心配。&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>マイクロブログ</title>
      <link>https://nobuto-m.github.io/ja/post/2023/1683077841/</link>
      <pubDate>Wed, 03 May 2023 10:37:21 +0900</pubDate>
      <guid>https://nobuto-m.github.io/ja/post/2023/1683077841/</guid>
      <description>&lt;p&gt;自分が書きたいがために何度目かのマイクロブログを始めてみる。Twitterみたいなサービスが出てきてからそこに書けばいいやってなってしまって、でもやっぱりTwitter以上長文ブログ未満のものが欲しくなって色々なサービスを使うものの結局サービス自体がなくなったりして長続きしない。その間にコツコツと10年以上同じところで書いてる人のものを読むと、映画観に行ったちょっとした感想とかでもなんか充実してるなとうらやましい気持ちになる。ということで私もその時は充実してると認識してなくても、後で見返してなんか充実してたんだなぁという気持ちになれたらいいなと思い書いていく。&lt;/p&gt;
&lt;p&gt;ここではある程度続くかもしれないし、続かないかもしれない。今日時点の&lt;a href=&#34;https://docs.github.com/en/pages/getting-started-with-github-pages/about-github-pages#prohibited-uses&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;GitHub Pagesの規約&lt;/a&gt;ではこういった使い方は問題なさそうに読めるけど、いざとなったらデータそのままで自分のサーバーに置く予定。&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>
